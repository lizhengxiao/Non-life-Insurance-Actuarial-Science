% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{book}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={非寿险精算学},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}
\usepackage{amsthm}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother
\ifluatex
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage[]{natbib}
\bibliographystyle{apalike}

\title{非寿险精算学}
\author{}
\date{\vspace{-2.5em}2022-07-04}

\begin{document}
\maketitle

{
\setcounter{tocdepth}{1}
\tableofcontents
}
\hypertarget{prep}{%
\chapter{课程简介}\label{prep}}

这是对外经济贸易大学和西南财经大学开设《非寿险精算学》等课程的讲义， 其中使用了其它教材的例子和讲法， 仅供学生内部使用， 不作为公开出版。 鉴于本人水平有限， 错漏之处难免，欢迎指出错误或提出改进意见。

\textbf{\emph{编写人员}}：

\begin{itemize}
\item
  李政宵（对外经济贸易大学保险学院副教授）
\item
  杨亮（西南财经大学金融学院副教授）
\item
  刘坤（对外经济贸易大学 2020 级硕士生）
\item
  刘雅薇（对外经济贸易大学 2020 级硕士生）
\end{itemize}

\hypertarget{ux8bfeux7a0bux5185ux5bb9}{%
\section{课程内容}\label{ux8bfeux7a0bux5185ux5bb9}}

本课程是一门三学分课程（精算与风险管理专业必修、其他专业选修），适合风险管理、保险与精算等相关专业的\textbf{本科高年级学生}参考。

非寿险精算主要内容是\textbf{风险模型}、\textbf{费率厘定}和\textbf{准备金评估}。

\begin{itemize}
\tightlist
\item
  \textbf{风险模型}：风险度量、索赔次数模型、索赔金额模型、累积损失模型
\item
  \textbf{费率厘定}：分类费率厘定、经验费率厘定
\item
  \textbf{准备金评估}：未到期责任准备金、未决赔款准备金、理赔费用准备金评估
\end{itemize}

在教学过程中中，以 \textbf{R 语言} 为编程工具，同时提供了详细的程序代码，方便读者再现完整的编程和计算过程。

\hypertarget{ux5148ux4feeux5185ux5bb9}{%
\section{先修内容}\label{ux5148ux4feeux5185ux5bb9}}

需要概率论与数理统计、高等数学、线性代数、保险学的基础知识

\begin{itemize}
\tightlist
\item
  \textbf{概率论与数理统计}：随机变量、概率分布、中心极限定理
\item
  \textbf{高等数学}：微积分、泰勒公式
\item
  \textbf{线性代数}：矩阵运算
\item
  \textbf{保险学}：基本概念和专业术语
\end{itemize}

\hypertarget{ux6559ux6750ux548cux53c2ux8003ux8d44ux6599}{%
\section{教材和参考资料}\label{ux6559ux6750ux548cux53c2ux8003ux8d44ux6599}}

\begin{itemize}
\tightlist
\item
  Klugman S. A., Panjer H. H., Willmot G. E. Loss models: from data to decisions (5th edition). London: John Wiley \& Sons, 2016
\end{itemize}

\includegraphics{picture/textbook.png}

\begin{itemize}
\tightlist
\item
  非寿险精算学（第4版），孟生旺、刘乐平、肖争艳、高光远，人民大学出版社，2019年
\end{itemize}

\includegraphics{picture/lec0-reference1.jpg}

\hypertarget{r-ux8f6fux4ef6ux4e0e-rmarkdown-ux53efux89c6ux5316}{%
\section{R 软件与 rmarkdown 可视化}\label{r-ux8f6fux4ef6ux4e0e-rmarkdown-ux53efux89c6ux5316}}

\hypertarget{rmarkdown-ux7b80ux4ecb}{%
\subsection{Rmarkdown 简介}\label{rmarkdown-ux7b80ux4ecb}}

Rmarkdown 是 R 语言环境中提供的 markdown 编辑工具，运用 rmarkdown 撰写文章，既可以像一般的 markdown 编辑器一样编辑文本，也可以在 rmarkdown 中插入代码块，并将代码运行结果输出在 markdown 里。R Markdown 格式，简称为 Rmd 格式， 相应的源文件扩展名为.Rmd。输出格式可以是 HTML、docx、pdf、beamer 等。

对于专注于用 R 语言写报告的数据分析师来说，rmarkdown 既提高了数据分析工作的便捷性，也提高了数据分析报告的复用性。markdown 的教程以及对应的编辑器介绍可见：

R沟通｜markdown编辑器---Typora（可跳转） 这一期主要介绍 Rmarkdown。

增加R软件的介绍

增加markdown的介绍

增加rmarkdown的介绍、安装和使用说明，包括如何导出html和pdf格式，介绍一些简答的公式输入

\hypertarget{chp1}{%
\chapter{保险数据结构与R软件}\label{chp1}}

1

\hypertarget{ux6570ux636eux7684ux5206ux7c7b}{%
\section{数据的分类}\label{ux6570ux636eux7684ux5206ux7c7b}}

1

\hypertarget{ux578bux6570ux636e}{%
\subsection{0-1型数据}\label{ux578bux6570ux636e}}

1

\hypertarget{ux8ba1ux6570ux578bux6570ux636e}{%
\subsection{计数型数据}\label{ux8ba1ux6570ux578bux6570ux636e}}

1

\hypertarget{ux8fdeux7eedux578bux6570ux636e}{%
\subsection{连续型数据}\label{ux8fdeux7eedux578bux6570ux636e}}

1

\hypertarget{ux534aux8fdeux7eedux578bux6570ux636e}{%
\subsection{半连续型数据}\label{ux534aux8fdeux7eedux578bux6570ux636e}}

1

\hypertarget{ux6570ux636eux7684ux57faux672cux5c5eux6027}{%
\section{数据的基本属性}\label{ux6570ux636eux7684ux57faux672cux5c5eux6027}}

\hypertarget{ux5206ux5e03ux5f62ux6001ux8fd8ux6709ux4ec0ux4e48}{%
\subsection{分布形态还有什么？}\label{ux5206ux5e03ux5f62ux6001ux8fd8ux6709ux4ec0ux4e48}}

\hypertarget{ux7ecfux9a8cux5bc6ux5ea6}{%
\subsection{经验密度}\label{ux7ecfux9a8cux5bc6ux5ea6}}

\hypertarget{ux6570ux636eux7684ux53efux89c6ux5316}{%
\section{数据的可视化}\label{ux6570ux636eux7684ux53efux89c6ux5316}}

\hypertarget{riskmod}{%
\chapter{基本的风险模型}\label{riskmod}}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{ux968fux673aux53d8ux91cfux7684ux57faux7840ux77e5ux8bc6}{%
\section{随机变量的基础知识}\label{ux968fux673aux53d8ux91cfux7684ux57faux7840ux77e5ux8bc6}}

在非寿险精算中，风险可以理解为保险损失的不确定性，通常用随机变量来表示。风险可以是：

\begin{itemize}
\item
  保险事故发生与否的不确定性
\item
  保险事故发生的时间的不确定性
\item
  保险事故发生的地点的不确定性
\item
  保险事故造成的损失金额的不确定性。
\end{itemize}

随机变量是指取值依赖于随机现象的观察结果的变量，取值是随机的，取值特征通过概率分布来描述。一般用大写的英文字母表示。随机变量可以表示为：

\begin{itemize}
\item
  \textbf{连续型随机变量}。其取值通常布满一个区间，如保险事故造成的损失金额 \(X\) 的取值范围为 \((0,+\infty)\)。
\item
  \textbf{离散型随机变量}。其取值为有限个或可列个值，如保险事故发生的次数 \(N\) 的取值范围为 \(0, 1, 2, 3, ...\)。保险事故是否发生损失可以表示为取值为 0 和 1 的离散型变量 \(I=0,1\)。
\item
  \textbf{半连续型随机变量}。其取值通常为连续型和离散型的结合，如保险事故造成的累积损失 \(S\)，其取值范围为 \([0, +\infty\)，其中 \(S=0\) 表示保险事故没有造成损失，\(S>0\) 表示保险事故造成了多大的损失。
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{ux5206ux5e03ux51fdux6570ux548cux751fux5b58ux51fdux6570}{%
\section{分布函数和生存函数}\label{ux5206ux5e03ux51fdux6570ux548cux751fux5b58ux51fdux6570}}

\begin{itemize}
\tightlist
\item
  连续型随机变量 \(X\) 的累积分布函数 (Cumulative Distribution Function, cdf) 表示为 \[F_{X}(x)=\Pr(X\le X)\]
\end{itemize}

\begin{quote}
例: 运用 R 软件画出下面两种分布函数图。
\end{quote}

\begin{equation*}
F_1(x) = \begin{cases}
0 &\quad x <0,\\
0.01x & \quad 0 \le x < 100,\\
1, & \quad x\ge 100.
\end{cases}
\end{equation*}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 定义分布函数}
\NormalTok{F1.f }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(x) \{}
  \ControlFlowTok{if}\NormalTok{ (x }\SpecialCharTok{\textless{}} \DecValTok{0}\NormalTok{)\{}
\NormalTok{    out }\OtherTok{\textless{}{-}} \DecValTok{0}
\NormalTok{  \} }\ControlFlowTok{else} \ControlFlowTok{if}\NormalTok{(x }\SpecialCharTok{\textless{}} \DecValTok{100} \SpecialCharTok{\&}\NormalTok{ x }\SpecialCharTok{\textgreater{}=} \DecValTok{0}\NormalTok{)\{}
\NormalTok{    out }\OtherTok{\textless{}{-}} \FloatTok{0.01}\SpecialCharTok{*}\NormalTok{x}
\NormalTok{  \} }\ControlFlowTok{else} \ControlFlowTok{if}\NormalTok{ (x }\SpecialCharTok{\textgreater{}=} \DecValTok{100}\NormalTok{)\{}
\NormalTok{    out }\OtherTok{\textless{}{-}} \DecValTok{1}
\NormalTok{  \}}
  \FunctionTok{return}\NormalTok{(out)}
\NormalTok{\}}
\NormalTok{F1.f }\OtherTok{\textless{}{-}}  \FunctionTok{Vectorize}\NormalTok{(F1.f) }\CommentTok{\# 将函数向量化，允许函数输入向量，输出向量}

\NormalTok{x }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\AttributeTok{from =} \DecValTok{0}\NormalTok{, }\AttributeTok{to =} \DecValTok{100}\NormalTok{, }\AttributeTok{length.out =} \DecValTok{20}\NormalTok{) }\CommentTok{\# 画图横轴数据}
\NormalTok{y }\OtherTok{\textless{}{-}} \FunctionTok{F1.f}\NormalTok{(x)  }\CommentTok{\# 画图纵轴数据}
\FunctionTok{plot}\NormalTok{(x, y, }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }\AttributeTok{col =} \StringTok{"blue"}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/plot-cdf-1.pdf}

\[
\begin{equation}
F_2(x) = \begin{cases}
0 &\quad x <0,\\
1 - \left(\frac{2000}{x + 2000}\right)^3, & \quad x\ge 0,
\end{cases}
\end{equation}
\]

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{F2.f }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(x) \{}
  \ControlFlowTok{if}\NormalTok{ (x }\SpecialCharTok{\textless{}} \DecValTok{0}\NormalTok{)\{}
\NormalTok{    out }\OtherTok{\textless{}{-}} \DecValTok{0}
\NormalTok{  \} }\ControlFlowTok{else} \ControlFlowTok{if}\NormalTok{ (x }\SpecialCharTok{\textgreater{}=} \DecValTok{0}\NormalTok{)\{}
\NormalTok{    out }\OtherTok{\textless{}{-}} \DecValTok{1} \SpecialCharTok{{-}}\NormalTok{ (}\DecValTok{2000}\SpecialCharTok{/}\NormalTok{(}\DecValTok{2000} \SpecialCharTok{+}\NormalTok{ x))}\SpecialCharTok{\^{}}\DecValTok{3}
\NormalTok{  \}}
  \FunctionTok{return}\NormalTok{(out)}
\NormalTok{\}}
\NormalTok{F2.f }\OtherTok{\textless{}{-}}  \FunctionTok{Vectorize}\NormalTok{(F2.f)}


\NormalTok{x }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\AttributeTok{from =} \DecValTok{0}\NormalTok{, }\AttributeTok{to =} \DecValTok{3000}\NormalTok{, }\AttributeTok{length.out =} \DecValTok{100}\NormalTok{)}
\NormalTok{y }\OtherTok{\textless{}{-}} \FunctionTok{F2.f}\NormalTok{(x)}
\FunctionTok{plot}\NormalTok{(x, y, }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }\AttributeTok{col =} \StringTok{"blue"}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/plot-pdf-1.pdf}

\begin{itemize}
\item
  随机变量的生存函数 (Survival Function) 定义为：
  \[
  S_{X}(x)=\Pr(X>x)=1-F_{X}(x)
  \]
  其中，生存函数表示随机变量 \(X\) 大于 \(x\) 的概率。
\item
  若随机变量是连续的，其密度函数和生存函数存在下述关系： \[S_{X}(x)=\int_{0}^\infty f_{X}(x)dx\]
\end{itemize}

\[f(x)=-\frac{dS(x)}{dx}\]

\begin{quote}
例：运用 R 软件画出 \textbf{F2.f} 对应的密度函数图。
\end{quote}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{f2.f }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(x)\{}
  \ControlFlowTok{if}\NormalTok{ (x }\SpecialCharTok{\textgreater{}} \DecValTok{0}\NormalTok{)\{}
\NormalTok{    out }\OtherTok{\textless{}{-}} \DecValTok{3}\SpecialCharTok{*}\NormalTok{(}\DecValTok{2000}\NormalTok{)}\SpecialCharTok{\^{}}\DecValTok{3}\SpecialCharTok{/}\NormalTok{(x }\SpecialCharTok{+} \DecValTok{2000}\NormalTok{)}\SpecialCharTok{\^{}}\DecValTok{4}
\NormalTok{  \} }\ControlFlowTok{else}\NormalTok{ out }\OtherTok{\textless{}{-}} \DecValTok{0}
  \FunctionTok{return}\NormalTok{(out)}
\NormalTok{\}}
\NormalTok{f2.f }\OtherTok{\textless{}{-}} \FunctionTok{Vectorize}\NormalTok{(f2.f)}

\NormalTok{x }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\AttributeTok{from =} \FloatTok{0.001}\NormalTok{, }\AttributeTok{to =} \DecValTok{3000}\NormalTok{, }\AttributeTok{length.out =} \DecValTok{100}\NormalTok{)}
\NormalTok{y }\OtherTok{\textless{}{-}} \FunctionTok{f2.f}\NormalTok{(x)}
\FunctionTok{plot}\NormalTok{(x, y, }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }\AttributeTok{col =} \StringTok{"blue"}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-1-1.pdf}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{ux6982ux7387ux6bcdux51fdux6570ux77e9ux6bcdux51fdux6570}{%
\section{概率母函数/矩母函数}\label{ux6982ux7387ux6bcdux51fdux6570ux77e9ux6bcdux51fdux6570}}

\begin{itemize}
\item
  随机变量的概率母函数或矩母函数与其分布函数存在一一对应的关系，同样可以描述随机变量的随机特征。

  \begin{itemize}
  \item
    离散型随机变量： 概率母函数 (Probability Generating Function, pgf)
  \item
    连续性随机变量： 矩母函数 (Moment Generating Function, mgf)
  \end{itemize}
\item
  概率母函数或矩母函数可以得到随机变量各阶矩。
\end{itemize}

\begin{quote}
定义：离散随机变量 \(N\) 的（概率）母函数表示为：
\[
P_N(t)=E(t^N)=\sum_{k=0}^{\infty}t^kP(N=k)
\]
\end{quote}

\begin{quote}
推论：运用概率母函数可以表示出随机变量 \(N=k\) 的概率，即 \(\Pr(N=k)\) 为概率母函数的 \(k\) 阶偏导在 \(0\) 点出的取值。例如:
\[
P(N=1)=\frac{P_N^{(1)}(0)}{1!}\] \[P(N=k)=\frac{P_N^{(k)}(0)}{k!}
\]
其中，\(P_N^{(k)}(\cdot)\) 表示概率母函数的 \(k\) 阶偏导，\(k!=\Gamma(k)\) 表示 \(k\) 阶乘。
\end{quote}

\begin{quote}
定义：连续型随机变量 \(X\) 的矩母函数表示为 \[M_X(t)=E(e^{tX})=\int_{-\infty}^{\infty}e^{tX}f(x)dx\]
\end{quote}

\begin{quote}
推论：运用矩母函数可以得到多个独立随机变量之和的分布函数。例如，假设\(S=X_1+X_2+...+X_n=\sum_{i=1}^{n}X_i\)，则随机变量 \(S\) 的矩母函数表示为： \[M_s(t)=M_{X_1}(t)M_{X_2}(t)...M_{X_n}(t)\]
其中，\(M_{X_j}(t)\) 表示 \(X_j\) 的矩母函数在 \(t\) 的取值。
\end{quote}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{ux622aux65adux548cux5220ux5931}{%
\section{截断和删失}\label{ux622aux65adux548cux5220ux5931}}

\begin{itemize}
\item
  保险中的损失通常指被保险人发生的损失
\item
  保险中的索赔通常指保险人给被保险人的赔款
\item
  由于不同的保险产品通常存在免赔额和赔偿限额的情况，使得保险的损失和索赔的随机性通常是不一致的
\item
  这种不一致性通常运用\textbf{截断}和\textbf{删失}的方法进行处理。
\end{itemize}

假设随机变量 \(X\) 表示原始的损失，其数学期望可以表示为： \[\mathbb{E}(X)=\int_{0}^{\infty }{S(x)dx}\]

\includegraphics[width=4.6875in,height=\textheight]{picture/Expected.png}

\hypertarget{ux5de6ux622aux65adleft-truncatedux548cux5e73ux79fbshifted}{%
\subsection{左截断（left truncated）和平移（shifted）}\label{ux5de6ux622aux65adleft-truncatedux548cux5e73ux79fbshifted}}

\begin{quote}
定义：给定常数 \(d\)，且满足 \(\Pr(X > d) > 0\) ，对随机变量 \(X\) 进行左截断和平移变换之后得到新的随机变量 \(Y^p\)，具体表示为：
\[
Y^p = X - d|X>d = \begin{cases}
\text{NA}, \quad X\le d \\
X - d, \quad X> d
\end{cases}
\]
其中，\(Y^p\) 也称之为 \textbf{超额损失变量} （excess loss variable）。
\end{quote}

\begin{itemize}
\item
  \textbf{超额损失变量}也称之为\textbf{左截断平移变量}：

  \begin{itemize}
  \item
    \(Y^p\) 是 \(X\) 在 \(d\) 处左截断得到的，原因在于任意 \(X\) 小于 \(d\) 的值都是无法观测到
  \item
    \(Y^p\) 左截断之后向左平移得到的，因此在截断基础上减少了 \(d\)
  \end{itemize}
\end{itemize}

\begin{quote}
定义：随机变量 \(Y^p\) 的数学期望称之为 \textbf{平均超额损失函数}：
\[
e_X(d):=\mathbb{E}(Y^p)=\mathbb{E}(X-d|X>d)
\]
\end{quote}

\begin{itemize}
\item
  当 \(X\) 表示保险事故造成的损失金额，\(d\)表示保险免赔额时，则平均超额损失表示已发生的超过免赔额 \(d\) 的期望索赔金额
\item
  当 \(X\) 是死亡年龄，平均超额损失表示为已知某人在年龄 \(d\) 存活的情况下的期望预期寿命
\end{itemize}

\begin{quote}
定义：超额损失变量的 \(k\) 阶矩表示为：
\[
e_{X}^k(d)
=\frac{\int_{d}^{\infty}(x-d)^kf(x)dx}{1-F(d)},
\]
其中，当 \(k=1\) 时，平均超额损失函数表示为
\[
{{e}_{X}}(d)=\mathbb{E}\left( X-d|X>d \right)=\frac{\int_{d}^{\infty }{{S}(x)dx}}{S(d)}.
\]
\end{quote}

\begin{quote}
证明：
\[
\begin{align*}
{{e}_{X}}(d)&=\frac{\int_{d}^{\infty }{(x-d)f(x)dx}}{1-F(d)}\\
&=\frac{-(x-d)S(x)|_{d}^{\infty }+\int_{d}^{\infty }{S(x)dx}}{S(d)}\\
&=\frac{\int_{d}^{\infty }{S(x)dx}}{S(d)}.
\end{align*}
\]
下面证明 \((x-d)S(x)|_{d}^{\infty }=0\)
\[
\begin{align*}
& \underset{x\to \infty }{\mathop{\lim }}\,xS(x)=\underset{x\to \infty }{\mathop{\lim }}\,x\int\limits_{x}^{\infty }{f(t)dt} \\ 
& =\underset{x\to \infty }{\mathop{\lim }}\,\int\limits_{x}^{\infty }{xf(t)dt} \\ 
& \le \underset{x\to \infty }{\mathop{\lim }}\,\int\limits_{x}^{\infty }{tf(t)dt} \\ 
& =\underset{x\to \infty }{\mathop{\lim }}\,\left[ \int\limits_{0}^{\infty }{tf(t)dt}-\int\limits_{0}^{x}{tf(t)dt} \right]=0
\end{align*}
\]
\end{quote}

\hypertarget{ux5de6ux5220ux5931left-censoredux548cux5e73ux79fbshifted}{%
\subsection{左删失（left censored）和平移（shifted）}\label{ux5de6ux5220ux5931left-censoredux548cux5e73ux79fbshifted}}

\begin{quote}
\textbf{左删失平移} 变量定义为：
\[
{{Y}^{L}}={{\left( X-d \right)}_{+}}= 
\begin{cases}
& 0,\quad \quad \quad X\le d \\ 
& X-d,\quad X>d \\ 
\end{cases} 
\]
\end{quote}

\begin{itemize}
\item
  左删失表示随机变量 \(X<d\) 的取值都替换为 \(d\)
\item
  平移表示将左删失的变量向左进行平移变化，使得左删失变量减去 \(d\)
\end{itemize}

\begin{quote}
\({Y}^{L}\) 的 \(k\)阶矩表示为：
\[
\mathbb{E}[(X-d)_{+}^k]={\int_{d}^{\infty}(x-d)^kf(x)dx}
\]
\end{quote}

\(Y^L\) 和 \(Y^P\) 的比较：

\begin{itemize}
\item
  假设 \(X\) 表示损失，则 \(Y^L\) 和 \(Y^P\) 都表示赔款
\item
  \(Y^L\) 是含零赔款（per loss），即当保险事故造成的损失没有产生赔款的时候， \(Y^L=0\)
\item
  \(Y^P\) 是非零赔款（per payment），即当保险事故造成的损失没有产生赔款的时候， \(\Pr(Y^p=0)=0\)
\item
  数学期望存在下述关系：

  \[\mathbb{E}[Y^L]=\mathbb{E}[Y^p][1-F_X(d)]=\int_{d}^{\infty}S(x)dx\]
  \includegraphics[width=4.6875in,height=\textheight]{picture/YL.png}
\end{itemize}

\hypertarget{ux53f3ux5220ux5931right-censored}{%
\subsection{右删失（right censored）}\label{ux53f3ux5220ux5931right-censored}}

\begin{quote}
定义：\textbf{右删失}变量表示为：
\[
Y=X\wedge u=\min (X,u)=\begin{cases}
& X,\ \ \ X<u \\ 
& u,\ \ \ \ X\ge u \\ 
\end{cases}
\]
其中，\(Y\) 也被称之为\textbf{有限损失} (limited loss variable)。
\end{quote}

\begin{itemize}
\tightlist
\item
  注意：右删失表示随机变量 \(X>u\) 的所有取值都用 \(u\) 代替
\end{itemize}

\begin{quote}
定义：\(Y\) 的数学期望 \(E(X\wedge u)\) 称之为\textbf{有限期望} (limited expected value)，具体表示为：
\[
\begin{align*}
E(X\wedge u)& =\int_{0}^{u}{xf(x)dx}+u\cdot S(u) \\ 
& =-xS(x)\left| _{0}^{u} \right.+\int_{0}^{u}{S(x)dx}+uS(u) \\ 
& =\int_{0}^{u}{S(x)dx}  
\end{align*}
\]
\end{quote}

\includegraphics[width=4.6875in,height=\textheight]{picture/limit.png}

\hypertarget{r-ux4ee3ux7801}{%
\subsection{R 代码}\label{r-ux4ee3ux7801}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  假设随机变量 \(X\sim \text{Gamma}(\alpha = 2, \theta = 100)\)，其中期望为 200。
\end{enumerate}

请用 R 软件进行绘图：

\begin{itemize}
\item
  请画出 \(\mathbb{E}(Y^L)\) 和 \(\mathbb{E}(Y^p)\) 随着 \(d\) 增加而变化的曲线图
\item
  请画出有限期望\(\mathbb{E}(X\wedge u)\) 随着 \(u\) 变化而变化的曲线图
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  若假设 \(X\sim \text{Pareto}(\alpha=2, \theta=200)\) 和 \(X\sim \text{exp}(\theta = 1/200)\)。
\end{enumerate}

\begin{itemize}
\item
  请画出 \(\mathbb{E}(Y^L)\) 和 \(\mathbb{E}(Y^p)\) 随着 \(d\) 增加而变化的曲线图
\item
  请画出 limited expected value \(\mathbb{E}(X\wedge u)\) 随着 \(u\) 变化而变化的曲线图
\end{itemize}

注意： 上述三个分布的均值相等，均为 200。

\begin{itemize}
\item
  指数分布: \(e_X(d)=\frac{1}{\theta}\)
\item
  帕累托分布: \(e_X(d)=\frac{\theta}{\alpha-1}\)
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 指数分布的生存函数}
\NormalTok{S }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(x) }\FunctionTok{exp}\NormalTok{(}\SpecialCharTok{{-}}\DecValTok{200}\SpecialCharTok{*}\NormalTok{x)}
\CommentTok{\# 指数分布的平均超额函数 ex1}
\NormalTok{ex1 }\OtherTok{\textless{}{-}} \ConstantTok{NULL}
\NormalTok{d1 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\FloatTok{0.1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\FloatTok{0.1}\NormalTok{) }\CommentTok{\# 免赔额}
\ControlFlowTok{for}\NormalTok{(i }\ControlFlowTok{in} \DecValTok{1}\SpecialCharTok{:}\FunctionTok{length}\NormalTok{(d1))\{}
\NormalTok{  ex1[i] }\OtherTok{\textless{}{-}} \FunctionTok{integrate}\NormalTok{(S, d1[i], }\ConstantTok{Inf}\NormalTok{)}\SpecialCharTok{$}\NormalTok{value}\SpecialCharTok{/}\FunctionTok{S}\NormalTok{(d1[i])}
\NormalTok{\}}
\CommentTok{\# 帕累托分布的生存函数}
\NormalTok{alpha }\OtherTok{\textless{}{-}} \DecValTok{5}
\NormalTok{theta }\OtherTok{\textless{}{-}} \DecValTok{100}
\NormalTok{S }\OtherTok{\textless{}{-}} \ControlFlowTok{function}\NormalTok{(x) \{}
\NormalTok{  (theta}\SpecialCharTok{/}\NormalTok{(x }\SpecialCharTok{+}\NormalTok{ theta))}\SpecialCharTok{\^{}}\NormalTok{alpha}
\NormalTok{\}}
\CommentTok{\# 帕累托分布的平均超额函数 ex2}
\NormalTok{ex2 }\OtherTok{\textless{}{-}} \ConstantTok{NULL}
\NormalTok{d2 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\FloatTok{0.1}\NormalTok{, }\DecValTok{500}\NormalTok{, }\DecValTok{1}\NormalTok{) }\CommentTok{\# 免赔额}
\ControlFlowTok{for}\NormalTok{(i }\ControlFlowTok{in} \DecValTok{1}\SpecialCharTok{:}\FunctionTok{length}\NormalTok{(d2))\{}
\NormalTok{  ex2[i] }\OtherTok{\textless{}{-}} \FunctionTok{integrate}\NormalTok{(S, d2[i], }\ConstantTok{Inf}\NormalTok{)}\SpecialCharTok{$}\NormalTok{value}\SpecialCharTok{/}\FunctionTok{S}\NormalTok{(d2[i])}
\NormalTok{\}}
\CommentTok{\# 绘图}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mfrow =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{))}
\FunctionTok{plot}\NormalTok{(d1, ex1, }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }\AttributeTok{ylab =} \StringTok{\textquotesingle{}mean excess function (1)\textquotesingle{}}\NormalTok{, }\AttributeTok{ylim =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{0.01}\NormalTok{))}
\FunctionTok{plot}\NormalTok{(d2, ex2, }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }\AttributeTok{ylab =} \StringTok{\textquotesingle{}mean excess function (2)\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/plot-excess-1.pdf}

\hypertarget{ux635fux5931ux6b21ux6570ux5206ux5e03}{%
\section{损失次数分布}\label{ux635fux5931ux6b21ux6570ux5206ux5e03}}

\begin{itemize}
\item
  在非寿险精算中，通常用用计数随机变量来描述一段时间内发生的损失次数或索赔次数。
\item
  计数随机变量是离散型随机变量的一种，随机变量的取值是在 \(0,1,2, 3,4...\) 正整数值域。
\end{itemize}

\hypertarget{ab0-ux5206ux5e03ux7c7b}{%
\subsection{\texorpdfstring{\((a,b,0)\) 分布类}{(a,b,0) 分布类}}\label{ab0-ux5206ux5e03ux7c7b}}

\((a,b,0)\) 分布类仅包括：

\begin{itemize}
\item
  泊松分布（Poisson）
\item
  二项分布（Binomial Distribution）
\item
  负二项分布（Negative Binomial distribution）
\end{itemize}

\begin{quote}
定义：\((a,b,0)\) 分布类满足下述递推关系：
\[p_k=(a+\frac{b}{k})p_{k-1}, \quad, k=1,2,3,...,\]
其中，\(a\) 和 \(b\) 为常数，\(p_k = \Pr(N=k)\)。已知 \(a,b\) 和 \(p_0\)，就能唯一确定整个概率分布函数。
\end{quote}

\hypertarget{ux6ccaux677eux5206ux5e03poisson}{%
\subsection{泊松分布（Poisson）}\label{ux6ccaux677eux5206ux5e03poisson}}

泊松分布的概率密度函数： \[
{{p}_{k}}=\frac{{{e}^{-\lambda }}{{\lambda }^{k}}}{k!},\quad k=0,1,2....
\] 概率母函数：
\[
P(z)=e^{(\lambda(z-1))},\quad \lambda>0.
\]
均值和方差可以通过母函数求得：
\[
\begin{align*}
\mathbb{E}(N)&=\lambda \\
\text{Var}(N)&=\lambda
\end{align*}
\]
- 泊松分布的方差和均值相等，都可以表示为\(\lambda\)。

\begin{itemize}
\item
  若干个独立的泊松分布之和仍然服从泊松分布。
\item
  泊松分布可以分解为若干个泊松分布之和。
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# density function 概率函数}
\CommentTok{\#dpois(x, lambda, log = FALSE) \# lambda 表示均值, log = TRUE 表示输出log(f(x))}
\CommentTok{\# distribution function 分布函数}
\CommentTok{\#ppois(q, lambda, lower.tail = TRUE, log.p = FALSE)}
\CommentTok{\# quantile function 分布函数的逆函数（分位数函数）}
\CommentTok{\#qpois(p, lambda, lower.tail = TRUE, log.p = FALSE)}
\CommentTok{\# 泊松分布的随机数 {-} 模拟}
\CommentTok{\#rpois(n, lambda = 10) \# 模拟 n 个服从期望为10的泊松分布}
\CommentTok{\# 画图{-} 不同lambda的泊松分布的概率函数图}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mfrow =} \FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\NormalTok{lambda.po }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{10}\NormalTok{) }\CommentTok{\# lambda 取值为 1,2,5,10}
\NormalTok{x0 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{20}\NormalTok{)            }\CommentTok{\# x 取值为 0{-}25 的整数}
\ControlFlowTok{for}\NormalTok{(lambda.po }\ControlFlowTok{in} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{10}\NormalTok{))\{}
  \FunctionTok{barplot}\NormalTok{(}\FunctionTok{dpois}\NormalTok{(x0, lambda.po), }\AttributeTok{names.arg =}\NormalTok{ x0, }\AttributeTok{main =} \FunctionTok{paste}\NormalTok{(}\StringTok{\textquotesingle{}lambda = \textquotesingle{}}\NormalTok{, lambda.po, }\AttributeTok{sep =} \StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{))}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-2-1.pdf}

\begin{quote}
R 代码:
假设索赔次数 \(N\) 服从参数为 的泊松分布，请计算：

\begin{itemize}
\item
  索赔次数等于 3 的概率 \(\Pr(N=3)\)
\item
  索赔次数小于等于 4 的概率 \(\Pr(N\leq4)\)
\item
  索赔次数大于等于 3 小于等于 5 的概率 \(\Pr(3\leq N \leq 5)\)
\end{itemize}
\end{quote}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 索赔次数等于3的概率}
\FunctionTok{dpois}\NormalTok{(}\DecValTok{3}\NormalTok{, }\AttributeTok{lambda =} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.180447
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 索赔次数小于等于4的概率为}
\FunctionTok{ppois}\NormalTok{(}\DecValTok{4}\NormalTok{, }\AttributeTok{lambda =} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.947347
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 索赔次数大于等于3小于等于5的概率}
\FunctionTok{ppois}\NormalTok{(}\DecValTok{5}\NormalTok{, }\DecValTok{2}\NormalTok{) }\SpecialCharTok{{-}} \FunctionTok{ppois}\NormalTok{(}\DecValTok{2}\NormalTok{, }\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 0.30676
\end{verbatim}

\hypertarget{ux8d1fux4e8cux9879ux5206ux5e03negative-binomial-distribution}{%
\subsection{负二项分布（Negative Binomial distribution）}\label{ux8d1fux4e8cux9879ux5206ux5e03negative-binomial-distribution}}

负二项分布的概率密度函数：
\[
{{p}_{k}}=\frac{\Gamma (k+r)}{\Gamma (r)\Gamma (k+1)}{{\left( \frac{1}{1+\beta } \right)}^{r}}{{\left( \frac{\beta }{1+\beta } \right)}^{k}}, \quad k=0,1,2,....
\]

概率母函数、均值和方差分别表示为：

\[
P(z)={{\left[ 1-\beta (z-1) \right]}^{-r}}
\]
\[
\begin{align*}
\mathbb{E}(X)&=r\beta\\
\text{Var}(X)&=r\beta(1+\beta)
\end{align*}
\]
证明：

\[
\begin{align*}
  P(z)&=\sum\limits_{k=0}^{\infty }{{{p}_{k}}{{z}^{k}}}=\sum\limits_{k=0}^{\infty }{\left[ \frac{\Gamma (k+r)}{\Gamma (r)\Gamma (k+1)}{{\left( \frac{1}{1+\beta } \right)}^{r}}{{\left( \frac{\beta }{1+\beta } \right)}^{k}} \right]{{z}^{k}}} \\ 
 & =\sum\limits_{k=0}^{\infty }{\left[ \frac{\Gamma (k+r)}{\Gamma (r)\Gamma (k+1)}{{\left( \frac{1+\beta -z\beta }{1+\beta } \right)}^{r}}{{\left( \frac{z\beta }{1+\beta } \right)}^{k}} \right]}{{\left( 1+\beta -z\beta  \right)}^{-r}} \\ 
 & ={{\left( 1+\beta -z\beta  \right)}^{-r}}
\end{align*} 
\]

\begin{itemize}
\item
  注意：几何分布是负二项分布在\(r=1\)时的特殊情况。
\item
  令 \(p=\frac{1}{1+\beta}\), 负二项分布密度函数的另一种形式：
  \[
  {{p}_{k}}=\frac{\Gamma (k+r)}{\Gamma (r)\Gamma (k+1)}{{p}^{r}}{{\left( 1-p \right)}^{k}}
  \]
\item
  其中，负二项分布的方差大于均值，通常可以用来描述具有过离散数据特征的损失次数。
\item
  下图显示了参数 \(r\) 在不同取值条件下负二项分布的概率分布图。可以发现，当负二项分布均值越大时，分布形状约趋近于正态分布。对应的 R 代码如下：
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 负二项分布的概率函数}
\NormalTok{r0 }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{2}\NormalTok{)}
\NormalTok{p0 }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\FloatTok{0.3}\NormalTok{,}\FloatTok{0.5}\NormalTok{, }\FloatTok{0.3}\NormalTok{, }\FloatTok{0.5}\NormalTok{)}
\NormalTok{x0 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{20}\NormalTok{)}
\NormalTok{ylim0 }\OtherTok{\textless{}{-}} \FunctionTok{list}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{0.5}\NormalTok{),}
              \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{0.5}\NormalTok{),}
              \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{0.5}\NormalTok{),}
              \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{0.5}\NormalTok{))  }\CommentTok{\# 上下界}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mfrow =} \FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{, }\DecValTok{2}\NormalTok{) )}
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in} \DecValTok{1}\SpecialCharTok{:}\FunctionTok{length}\NormalTok{(p0))\{}
\NormalTok{  fpo }\OtherTok{\textless{}{-}} \FunctionTok{dnbinom}\NormalTok{(x0, }\AttributeTok{size =}\NormalTok{ r0[i], }\AttributeTok{prob =}\NormalTok{ p0[i], }\AttributeTok{log =} \ConstantTok{FALSE}\NormalTok{)}
  \FunctionTok{barplot}\NormalTok{(fpo, }
          \AttributeTok{main =} \FunctionTok{paste0}\NormalTok{(}\StringTok{\textquotesingle{}r = \textquotesingle{}}\NormalTok{, r0[i], }\StringTok{\textquotesingle{},  \textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}p = \textquotesingle{}}\NormalTok{, p0[i]), }
          \AttributeTok{names.arg =}\NormalTok{ x0, }\AttributeTok{ylim =}\NormalTok{ ylim0[[i]]}
\NormalTok{  )}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/plot-nb-1.pdf}

\begin{itemize}
\tightlist
\item
  令 \(r\to\infty\) 且 \(\beta\to 0\)，令 \(r\beta=\lambda\) 是一个常数，可以发现
  \[
  \begin{align*}
  \mathbb{E}(X)&=r\beta \to \lambda\\
  \text{Var}(X)&=r\beta(1+\beta) \to \lambda
  \end{align*}
  \]
  负二项分布的\textbf{极限分布}是泊松分布。
\end{itemize}

\hypertarget{ux4e8cux9879ux5206ux5e03binomial-distribution}{%
\subsection{二项分布（Binomial Distribution）}\label{ux4e8cux9879ux5206ux5e03binomial-distribution}}

个体风险发生索赔的概率为 \(q\), 不发生索赔的概率为 \(1-q\), 则索赔次数分布的母函数为 \[
P\left( z \right)=\mathbb{E}\left( {{z}^{N}} \right)=\left( 1-q \right){{z}^{0}}+q{{z}^{1}}=1-q+qz=1+q\left( z-1 \right)
\]
对 \(m\) 个独立同分布的个体风险，其索赔次数分布的母函数为
\[
P\left( z \right)=[1+q\left( z-1 \right)]^m.
\]
这 \(m\) 个风险发生\(k\)次索赔的概率为二项分布
\[
{{p}_{k}}=\left(^m 
_k 
\right){{q}^{k}}{{(1-q)}^{m-k}}\quad \quad k=0,1,2,...,m.
\]

\begin{itemize}
\item
  二项分布的均值和方差为 \(\mathbb{E}(X)=mq, \quad \text{Var}(X)=mq(1-q)\)
\item
  二项分布的取值存在一个最大值\(m\)。
\item
  参数 \(m>0\) 使得二项分布的均值大于方差，主要用于描述具有欠离散数据特征的损失次数（精算中并不常用）。
\end{itemize}

\begin{quote}
下图显示二项分布的均值越大，分布形态越对称。R 代码如下：
\end{quote}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ==============================================================}
\CommentTok{\# 二项分布}
\CommentTok{\# ==============================================================}
\NormalTok{m0 }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{10}\NormalTok{, }\DecValTok{10}\NormalTok{, }\DecValTok{10}\NormalTok{, }\DecValTok{10}\NormalTok{)}
\NormalTok{q0 }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\FloatTok{0.3}\NormalTok{, }\FloatTok{0.3}\NormalTok{, }\FloatTok{0.3}\NormalTok{, }\FloatTok{0.1}\NormalTok{, }\FloatTok{0.2}\NormalTok{, }\FloatTok{0.3}\NormalTok{)}
\NormalTok{x0 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{10}\NormalTok{)}

\FunctionTok{par}\NormalTok{(}\AttributeTok{mfrow =} \FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{) )}
\ControlFlowTok{for}\NormalTok{ (i }\ControlFlowTok{in} \DecValTok{1}\SpecialCharTok{:}\FunctionTok{length}\NormalTok{(m0))\{}
\NormalTok{  fpo }\OtherTok{\textless{}{-}} \FunctionTok{dbinom}\NormalTok{(x0, }\AttributeTok{size =}\NormalTok{ m0[i], }\AttributeTok{prob =}\NormalTok{ q0[i], }\AttributeTok{log =} \ConstantTok{FALSE}\NormalTok{)}
  \FunctionTok{barplot}\NormalTok{(fpo, }
          \AttributeTok{main =} \FunctionTok{paste0}\NormalTok{(}\StringTok{\textquotesingle{}m = \textquotesingle{}}\NormalTok{, m0[i], }\StringTok{\textquotesingle{},  \textquotesingle{}}\NormalTok{,}
                        \StringTok{\textquotesingle{}q = \textquotesingle{}}\NormalTok{, q0[i]),}
          \AttributeTok{names.arg =}\NormalTok{ x0)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/plot-bi-1.pdf}

\hypertarget{ab1-ux5206ux5e03ux7c7b}{%
\subsection{\texorpdfstring{\((a,b,1)\) 分布类}{(a,b,1) 分布类}}\label{ab1-ux5206ux5e03ux7c7b}}

\((a,b,1)\) 分布类包含两个子类：

\begin{itemize}
\item
  零截断分布 (zero-truncated distribution)
\item
  零调整分布 (zero-modified distribution)
\item
  对于零截断分布，发生 \(k\) 次损失的概率用\(p_k^T\)表示，其中\(p_0^T=0\)
\item
  对于零调整分布，发生 \(k\) 次损失的概率用 \(p_k^M\) 表示，其中 \(p_0^M\) 表示可以是任意概率值。
\end{itemize}

\begin{quote}
\((a,b,1)\)分布类满足下述递推关系： \[p_k=(a+\frac{b}{k})p_{k-1}\] \(k=2,3,...\),

\begin{itemize}
\item
  递推关系与 \((a,b,0)\) 分布类的递推关系完全相同
\item
  \((a,b,1)\) 分布类的递推关系是从 \(p_1\)开始，而\((a,b,1)\)分布类的递推关系是从\(p_0\)开始。
\end{itemize}
\end{quote}

R 代码： 零截断负二项分布的计算

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 负二项分布的概率}
\NormalTok{x }\OtherTok{=} \DecValTok{0}\SpecialCharTok{:}\DecValTok{10}
\NormalTok{p }\OtherTok{=} \FunctionTok{dnbinom}\NormalTok{(x,}\DecValTok{4}\NormalTok{,}\FloatTok{0.7}\NormalTok{)}
\FunctionTok{round}\NormalTok{(p,}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.240 0.288 0.216 0.130 0.068 0.033 0.015 0.006 0.003 0.001 0.000
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 零截断负二项分布的概率}
\NormalTok{p0 }\OtherTok{=}\NormalTok{ p[}\DecValTok{1}\NormalTok{]   }\DocumentationTok{\#\#零点的概率}
\NormalTok{pt1 }\OtherTok{=}\NormalTok{ p[}\DecValTok{2}\SpecialCharTok{:}\DecValTok{11}\NormalTok{]}\SpecialCharTok{/}\NormalTok{(}\DecValTok{1}\SpecialCharTok{{-}}\NormalTok{p0)  }\DocumentationTok{\#\#其它点上的概率}
\NormalTok{pt }\OtherTok{=} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, pt1)}
\FunctionTok{round}\NormalTok{(pt,}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.000 0.379 0.284 0.171 0.090 0.043 0.019 0.008 0.003 0.001 0.001
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 绘图比较负二项和零截断负二项的概率}
\NormalTok{com }\OtherTok{=} \FunctionTok{rbind}\NormalTok{(负二项 }\OtherTok{=}\NormalTok{ p, 零截断负二项 }\OtherTok{=}\NormalTok{ pt)}
\FunctionTok{barplot}\NormalTok{(com,}\AttributeTok{beside=}\ConstantTok{TRUE}\NormalTok{,}\AttributeTok{names.arg=}\DecValTok{0}\SpecialCharTok{:}\DecValTok{10}\NormalTok{,}\AttributeTok{legend.text=}\ConstantTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e8>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<b4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<9f>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<ba>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<8c>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<a1>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<b9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<e9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<9b>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<b6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<e6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<88>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<aa>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<e6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<96>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<ad>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<e8>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<b4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<9f>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<e4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<ba>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<8c>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<e9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<a1>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：<b9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e8>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<b4>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<9f>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e4>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<ba>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<8c>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e9>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<a1>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<b9>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <e9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <9b>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <b6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <e6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <88>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <aa>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <e6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <96>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <ad>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <e8>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <b4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <9f>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <e4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <ba>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <8c>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <e9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <a1>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆舵埅鏂礋浜岄」'出错：
## <b9>代替了dot
\end{verbatim}

\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-4-1.pdf}

R 代码： 零调整负二项分布的计算

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 负二项分布的概率}
\NormalTok{x }\OtherTok{=} \DecValTok{0}\SpecialCharTok{:}\DecValTok{10}
\NormalTok{p }\OtherTok{=} \FunctionTok{dnbinom}\NormalTok{(x, }\DecValTok{4}\NormalTok{, }\FloatTok{0.7}\NormalTok{)}
\FunctionTok{round}\NormalTok{(p,}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.240 0.288 0.216 0.130 0.068 0.033 0.015 0.006 0.003 0.001 0.000
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 零调整负二项分布的概率}
\NormalTok{p0 }\OtherTok{=} \FloatTok{0.3}  \DocumentationTok{\#\#调整零点的概率}
\NormalTok{pm }\OtherTok{=}\NormalTok{ (}\DecValTok{1}\SpecialCharTok{{-}}\NormalTok{p0)}\SpecialCharTok{*}\NormalTok{p[}\DecValTok{2}\SpecialCharTok{:}\DecValTok{11}\NormalTok{]}\SpecialCharTok{/}\NormalTok{(}\DecValTok{1}\SpecialCharTok{{-}}\NormalTok{p[}\DecValTok{1}\NormalTok{])  }\DocumentationTok{\#\#其它点上的概率}
\NormalTok{pm }\OtherTok{=} \FunctionTok{c}\NormalTok{(p0,pm)}
\FunctionTok{round}\NormalTok{(pm, }\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] 0.300 0.265 0.199 0.119 0.063 0.030 0.014 0.006 0.002 0.001 0.000
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DocumentationTok{\#\# 绘图}
\NormalTok{com }\OtherTok{=} \FunctionTok{rbind}\NormalTok{(负二项 }\OtherTok{=}\NormalTok{ p, 零调整负二项 }\OtherTok{=}\NormalTok{ pm)}
\FunctionTok{barplot}\NormalTok{(com, }\AttributeTok{beside =} \ConstantTok{TRUE}\NormalTok{, }\AttributeTok{names.arg =} \DecValTok{0}\SpecialCharTok{:}\DecValTok{10}\NormalTok{,}\AttributeTok{legend.text=}\ConstantTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e8>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<b4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<9f>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<ba>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<8c>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<a1>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<b9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<e9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<9b>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<b6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<e8>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<b0>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<83>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<e6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<95>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<b4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<e8>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<b4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<9f>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<e4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<ba>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<8c>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<e9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<a1>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in strwidth(legend, units = "user", cex = cex, font = text.font):
## 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：<b9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e8>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<b4>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<9f>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e4>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<ba>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<8c>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<e9>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<a1>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'璐熶簩椤�'出错：<b9>代替
## 了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <e9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <9b>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <b6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <e8>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <b0>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <83>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <e6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <95>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <b4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <e8>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <b4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <9f>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <e4>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <ba>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <8c>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <e9>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <a1>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in text.default(x, y, ...): 'mbcsToSbcs'里转换'闆惰皟鏁磋礋浜岄」'出错：
## <b9>代替了dot
\end{verbatim}

\includegraphics{bookdown-demo_files/figure-latex/unnamed-chunk-5-1.pdf}

\hypertarget{ux635fux5931ux91d1ux989dux5206ux5e03}{%
\section{损失金额分布}\label{ux635fux5931ux91d1ux989dux5206ux5e03}}

对保险损失金额进行分析和预测，是精算师和风险管理者的重要工作。通常情况下，保险损失金额具有不对称、定义域非负、尾部较厚的特点，像正态分布等高斯类的分布不适于拟合损失金额。常用的偏态损失分布包括：

\begin{itemize}
\item
  指数分布 （Exponential）
\item
  伽马分布（Gamma）
\item
  威布尔分布（Weibull）
\item
  帕累托分布（Pareto）
\item
  对数正态分布（Log-normal）
\end{itemize}

这一节将主要介绍几种常见的损失分布，以及分布函数、概率密度函数、矩母函数等分布性质。

\hypertarget{ux6307ux6570ux5206ux5e03-exponential}{%
\subsection{指数分布 （Exponential）}\label{ux6307ux6570ux5206ux5e03-exponential}}

指数分布的概率密度函数和累积分布函数为:
\[
f(x)=\frac{1}{\theta}\exp\left({-\frac{1}{\theta}x}\right),\quad x \ge 0
\]

或者
\[
f(x)=\lambda\exp\left({-\lambda x}\right),\quad x \ge 0
\]
指数分布的期望、方差分别为 \[E(X)=\theta\] \[Var(X)=\theta^2\] 同时，指数分布具有无记忆性，即 \[P(X>x+u|X>u)=P(X>x)\]

\begin{itemize}
\item
  下图显示了指数分布的比率参数取值不同情况下的密度函数图。
\item
  指数分布的缺点是其概率密度函数是单调递减的，这在很多情况下，并不适于实际的需要。
\item
  R 对应代码如下：
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ==========================================}
\CommentTok{\# 指数分布}
\CommentTok{\# ===========================================}
\NormalTok{theta }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\FloatTok{0.5}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{)}
\NormalTok{x0 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\FloatTok{0.001}\NormalTok{, }\DecValTok{10}\NormalTok{, }\AttributeTok{length.out =} \DecValTok{100}\NormalTok{)}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mfrow =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{) )}
\NormalTok{f1 }\OtherTok{\textless{}{-}} \FunctionTok{dexp}\NormalTok{(x0, }\AttributeTok{rate =} \DecValTok{1}\SpecialCharTok{/}\NormalTok{theta[}\DecValTok{1}\NormalTok{], }\AttributeTok{log =} \ConstantTok{FALSE}\NormalTok{)}
\NormalTok{f2 }\OtherTok{\textless{}{-}} \FunctionTok{dexp}\NormalTok{(x0, }\AttributeTok{rate =} \DecValTok{1}\SpecialCharTok{/}\NormalTok{theta[}\DecValTok{2}\NormalTok{], }\AttributeTok{log =} \ConstantTok{FALSE}\NormalTok{)}
\NormalTok{f3 }\OtherTok{\textless{}{-}} \FunctionTok{dexp}\NormalTok{(x0, }\AttributeTok{rate =} \DecValTok{1}\SpecialCharTok{/}\NormalTok{theta[}\DecValTok{3}\NormalTok{], }\AttributeTok{log =} \ConstantTok{FALSE}\NormalTok{)}
\FunctionTok{matplot}\NormalTok{(x0, }\FunctionTok{cbind}\NormalTok{(f1, f2, f3), }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }\AttributeTok{lty =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{)}
\FunctionTok{legend}\NormalTok{(}\StringTok{\textquotesingle{}topright\textquotesingle{}}\NormalTok{, }
       \AttributeTok{legend =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}theta = 0.5\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}theta = 1\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}theta = 2\textquotesingle{}}\NormalTok{),}
       \AttributeTok{lty =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{),}
       \AttributeTok{bty =} \StringTok{"n"}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{,  }\AttributeTok{col =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{ux4f3dux9a6cux5206ux5e03gamma}{%
\subsection{伽马分布（Gamma）}\label{ux4f3dux9a6cux5206ux5e03gamma}}

\textbf{第一种}伽马分布的概率密度函数为 \[
f(x; \alpha, \theta)=\frac{{{\theta }^{-\alpha }}}{\Gamma \text{(}\alpha )}{{x}^{\alpha -1}}{{e}^{-\frac{1}{\theta} x}}.\]

\begin{itemize}
\item
  其中 \(\alpha\) 是 \textbf{形状参数}，\(\theta\) 是 \textbf{尺度参数}。
\item
  伽马分布的期望、方差分别为 \[E(X)=\alpha/\beta\] \[Var(X)=\alpha/\beta^2\]。
\end{itemize}

\textbf{第二种}伽马分布的概率密度函数为:
\[
f(x; \alpha, \beta)=\frac{{{\theta }^{\alpha }}}{\Gamma \text{(}\alpha )}{{x}^{\alpha -1}}{{e}^{-\beta x}}.\]

\begin{itemize}
\tightlist
\item
  其中 \(\alpha\) 是 \textbf{形状参数}，\(\beta=1/\theta\) 是 \textbf{比率参数}。
\end{itemize}

\textbf{第三种}伽马分布的概率密度函数为:
\[
f(x; \mu, \phi)=.\]

\begin{itemize}
\item
  其中，\(\mu=\alpha/\beta\) 是均值参数，\(\phi=1/\alpha\) 是离散参数。
\item
  均值和方差分别为 \(\mu\) 和 \(\phi\mu^2\)。
\item
  伽马分布的可加性：
  假设两个随机变量 \(X_1\) 和 \(X_2\) 都服从形状参数\(\alpha_1\)和\(\alpha_2\) ，比率参数都为 \(\beta\) 的伽马分布，即 \(X_1\sim GA(\alpha_1,\beta)\)，\(X_2\sim GA(\alpha_2,\beta)\) ，那么随机变量之和\(X_1+X_2\) 服从形状参数为 \(\alpha_1+\alpha_2\)，比率参数为\(\beta\) 的伽马分布，即\[X_1+X_2\sim GA(\alpha_1+\alpha_2,\beta)\] 。
\item
  当形状参数\(\alpha=1\)时，伽马分布可以退化为指数分布，即指数分布是伽马分布的特例。
\item
  当\(\alpha=n/2\)和\(\beta=1/2\) 时，伽马分布可以退化为卡方分布，其中卡方分布的自由度为\(n/2\)。
\item
  R 代码：下图显示了伽马分布的形状参数和比率参数在不同取值情况下的密度函数图。
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ==========================================}
\CommentTok{\# 伽马分布}
\CommentTok{\# ===========================================}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mfrow =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{) )}
\CommentTok{\# 固定形状参数}
\NormalTok{alpha }\OtherTok{\textless{}{-}} \DecValTok{2}                \CommentTok{\# 形状参数}
\NormalTok{theta }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\FloatTok{0.5}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{)     }\CommentTok{\# 比率参数，尺度参数为 1/theta}
\NormalTok{x0 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\FloatTok{0.001}\NormalTok{, }\DecValTok{15}\NormalTok{, }\AttributeTok{length.out =} \DecValTok{100}\NormalTok{)}
\NormalTok{f1 }\OtherTok{\textless{}{-}} \FunctionTok{dgamma}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha, }\AttributeTok{rate =}\NormalTok{ theta[}\DecValTok{1}\NormalTok{]) }\CommentTok{\# }
\NormalTok{f2 }\OtherTok{\textless{}{-}} \FunctionTok{dgamma}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha, }\AttributeTok{rate =}\NormalTok{ theta[}\DecValTok{2}\NormalTok{])}
\NormalTok{f3 }\OtherTok{\textless{}{-}} \FunctionTok{dgamma}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha, }\AttributeTok{rate =}\NormalTok{ theta[}\DecValTok{3}\NormalTok{])}
\FunctionTok{matplot}\NormalTok{(x0, }\FunctionTok{cbind}\NormalTok{(f1, f2, f3),}\AttributeTok{ylim =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{0.8}\NormalTok{), }\AttributeTok{main =} \StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,  }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }\AttributeTok{lty =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{, }\AttributeTok{ylab =} \StringTok{\textquotesingle{}密度函数\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<af>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<86>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<ba>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<a6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<87>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<bd>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<95>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<b0>代替了dot
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{legend}\NormalTok{(}\StringTok{\textquotesingle{}topright\textquotesingle{}}\NormalTok{, }\AttributeTok{legend =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}alpha = 2, theta = 0.5\textquotesingle{}}\NormalTok{, }
                              \StringTok{\textquotesingle{}alpha = 2, theta = 1\textquotesingle{}}\NormalTok{, }
                              \StringTok{\textquotesingle{}alpha = 2, theta = 2\textquotesingle{}}\NormalTok{),}
       \AttributeTok{lty =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{), }\AttributeTok{bty =} \StringTok{"n"}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{,  }\AttributeTok{col =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{)}

\CommentTok{\# 固定比率参数}
\NormalTok{alpha }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{)}
\NormalTok{theta }\OtherTok{\textless{}{-}} \FloatTok{0.5}
\NormalTok{x0 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\FloatTok{0.001}\NormalTok{, }\DecValTok{15}\NormalTok{, }\AttributeTok{length.out =} \DecValTok{100}\NormalTok{)}
\NormalTok{f1 }\OtherTok{\textless{}{-}} \FunctionTok{dgamma}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha[}\DecValTok{1}\NormalTok{], }\AttributeTok{rate =}\NormalTok{ theta)}
\NormalTok{f2 }\OtherTok{\textless{}{-}} \FunctionTok{dgamma}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha[}\DecValTok{2}\NormalTok{], }\AttributeTok{rate =}\NormalTok{ theta)}
\NormalTok{f3 }\OtherTok{\textless{}{-}} \FunctionTok{dgamma}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha[}\DecValTok{3}\NormalTok{], }\AttributeTok{rate =}\NormalTok{ theta)}

\FunctionTok{matplot}\NormalTok{(x0, }\FunctionTok{cbind}\NormalTok{(f1, f2, f3),}\AttributeTok{ylim =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{0.8}\NormalTok{), }\AttributeTok{main =} \StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,  }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }\AttributeTok{lty =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{, }\AttributeTok{ylab =} \StringTok{\textquotesingle{}密度函数\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<af>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<86>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<ba>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<a6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<87>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<bd>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<95>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<b0>代替了dot
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{legend}\NormalTok{(}\StringTok{\textquotesingle{}topright\textquotesingle{}}\NormalTok{,}\AttributeTok{legend =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}alpha = 1, theta = 0.5\textquotesingle{}}\NormalTok{, }
                                     \StringTok{\textquotesingle{}alpha = 2, theta = 0.5\textquotesingle{}}\NormalTok{, }
                                     \StringTok{\textquotesingle{}alpha = 3, theta = 0.5\textquotesingle{}}\NormalTok{),}
       \AttributeTok{lty =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{), }\AttributeTok{bty =} \StringTok{"n"}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{,  }\AttributeTok{col =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/gamma-pdf-1.pdf}

\hypertarget{ux5e15ux7d2fux6258ux5206ux5e03pareto}{%
\subsection{帕累托分布（Pareto）}\label{ux5e15ux7d2fux6258ux5206ux5e03pareto}}

帕累托分布一般分为双参数和单参数两种。若没有特殊说米，一般指\textbf{双参数}帕累托。

帕累托分布的分布函数、密度函数、期望和方差分别表示为：
\[
\begin{align*}
  & {{F}_{X}}(x)=1-{{\left( \frac{\theta }{x+\theta } \right)}^{\alpha }}\ \ \ \ 0<x<\infty  \\ 
 &  \\ 
 & {{f}_{X}}(x)=\frac{\alpha {{\theta }^{\alpha }}}{{{(x+\theta )}^{\alpha +1}}} \\ 
 &  \\ 
 & \mathbb{E}(X)=\frac{\theta }{\alpha -1},\ \ \ \ \ \ \text{Var}(X)=\frac{\alpha {{\theta }^{2}}}{{{(\alpha -1)}^{2}}(\alpha -2)}.
\end{align*}
\]

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(actuar)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## 载入程辑包：'actuar'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:grDevices':
## 
##     cm
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# shape = alpha, scale = theta}
\CommentTok{\# mean = 50}
\NormalTok{alpha }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\FloatTok{0.5}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{5}\NormalTok{)              }
\NormalTok{theta }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{50}\NormalTok{,}\DecValTok{200}\NormalTok{)     }
\NormalTok{x0 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\FloatTok{0.001}\NormalTok{, }\DecValTok{100}\NormalTok{, }\AttributeTok{length.out =} \DecValTok{100}\NormalTok{)}
\NormalTok{f1 }\OtherTok{\textless{}{-}} \FunctionTok{dpareto}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha[}\DecValTok{1}\NormalTok{], }\AttributeTok{scale =}\NormalTok{ theta[}\DecValTok{1}\NormalTok{])}
\NormalTok{f2 }\OtherTok{\textless{}{-}} \FunctionTok{dpareto}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha[}\DecValTok{2}\NormalTok{], }\AttributeTok{scale =}\NormalTok{ theta[}\DecValTok{2}\NormalTok{])}
\NormalTok{f3 }\OtherTok{\textless{}{-}} \FunctionTok{dpareto}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha[}\DecValTok{3}\NormalTok{], }\AttributeTok{scale =}\NormalTok{ theta[}\DecValTok{3}\NormalTok{])}
\FunctionTok{matplot}\NormalTok{(x0, }\FunctionTok{cbind}\NormalTok{(f1, f2, f3), }\AttributeTok{main =} \StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,  }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }
        \AttributeTok{lty =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{, }\AttributeTok{ylab =} \StringTok{\textquotesingle{}pdf\textquotesingle{}}\NormalTok{, }\AttributeTok{ylim =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{0.05}\NormalTok{))}
\FunctionTok{legend}\NormalTok{(}\StringTok{\textquotesingle{}topright\textquotesingle{}}\NormalTok{, }\AttributeTok{legend =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}alpha = 0.5, theta = 5\textquotesingle{}}\NormalTok{, }
                              \StringTok{\textquotesingle{}alpha = 2, theta = 50\textquotesingle{}}\NormalTok{, }
                              \StringTok{\textquotesingle{}alpha = 5, theta = 200\textquotesingle{}}\NormalTok{),}
       \AttributeTok{lty =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{), }\AttributeTok{bty =} \StringTok{"n"}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{,  }\AttributeTok{col =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/plot-Pareto-1.pdf}

\textbf{单参数}帕累托的概率密度函数为：
\[
\begin{align*}
f(x)&=\frac{\alpha\theta^\alpha}{x^{\alpha+1}},\quad x>\theta,\\
F(x)&=1-\left(\frac{\theta}{x}\right)^\alpha,
\end{align*}
\]
- 其中 \(\alpha\) 是真实参数而 \(\theta\) 是预先给定的。

单参数帕累托的 \(k\) 阶矩为：

\[
\mathbb{E}(X^k)=\frac{\alpha \theta^k}{\alpha-k},\quad k < \alpha.
\]

\begin{itemize}
\tightlist
\item
  R 代码：
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(actuar)}
\CommentTok{\# shape = alpha, scale = theta}
\CommentTok{\# mean = 50}
\NormalTok{alpha }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\FloatTok{0.5}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{5}\NormalTok{)              }
\NormalTok{theta }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{20}\NormalTok{,}\DecValTok{50}\NormalTok{,}\DecValTok{80}\NormalTok{)     }
\NormalTok{x0 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\FloatTok{0.001}\NormalTok{, }\DecValTok{200}\NormalTok{, }\AttributeTok{length.out =} \DecValTok{100}\NormalTok{)}
\NormalTok{f1 }\OtherTok{\textless{}{-}} \FunctionTok{dpareto1}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha[}\DecValTok{1}\NormalTok{], }\AttributeTok{min =}\NormalTok{ theta[}\DecValTok{1}\NormalTok{])}
\NormalTok{f2 }\OtherTok{\textless{}{-}} \FunctionTok{dpareto1}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha[}\DecValTok{2}\NormalTok{], }\AttributeTok{min =}\NormalTok{ theta[}\DecValTok{2}\NormalTok{])}
\NormalTok{f3 }\OtherTok{\textless{}{-}} \FunctionTok{dpareto1}\NormalTok{(x0,  }\AttributeTok{shape =}\NormalTok{ alpha[}\DecValTok{3}\NormalTok{], }\AttributeTok{min =}\NormalTok{ theta[}\DecValTok{3}\NormalTok{])}
\FunctionTok{matplot}\NormalTok{(x0, }\FunctionTok{cbind}\NormalTok{(f1, f2, f3), }\AttributeTok{main =} \StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,  }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }
        \AttributeTok{lty =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{, }\AttributeTok{ylab =} \StringTok{\textquotesingle{}pdf\textquotesingle{}}\NormalTok{, }\AttributeTok{ylim =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\FloatTok{0.08}\NormalTok{))}
\FunctionTok{legend}\NormalTok{(}\StringTok{\textquotesingle{}topright\textquotesingle{}}\NormalTok{, }\AttributeTok{legend =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}alpha = 0.5, theta = 5\textquotesingle{}}\NormalTok{, }
                              \StringTok{\textquotesingle{}alpha = 2, theta = 50\textquotesingle{}}\NormalTok{, }
                              \StringTok{\textquotesingle{}alpha = 5, theta = 200\textquotesingle{}}\NormalTok{),}
       \AttributeTok{lty =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{), }\AttributeTok{bty =} \StringTok{"n"}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{,  }\AttributeTok{col =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/plot-Single-Pareto-1.pdf}

\hypertarget{ux5bf9ux6570ux6b63ux6001ux5206ux5e03log-normal}{%
\subsection{对数正态分布（Log-normal）}\label{ux5bf9ux6570ux6b63ux6001ux5206ux5e03log-normal}}

对数正态分布的概率密度函数和分布函数为 \[
f(x)=\frac{1}{x\sigma}\phi\left(\frac{\ln x - \mu}{\sigma}  \right)
=\frac{1}{x\sigma\sqrt{2\pi}}\exp\left[
-\frac{1}{2}\left(\frac{\ln x - \mu}{\sigma}  \right)^2
\right]
\]

对数正态分布的均值和方差分别为

\[
 E(X)=\exp\left(\mu + \frac{1}{2}\sigma^2\right)
\] \[
Var(X)=(e^{\sigma^2}-1)e^{2\mu+\sigma^2}
\]

\begin{itemize}
\item
  假设随机变量服从参数为\((\mu,\sigma)\)的正态分布\(X\sim N(\mu,\sigma^2)\) ，那么随机变量\(Y=e^X\)则服从参数为\((\mu,\sigma)\) 的对数正态分布。
\item
  对数正态分布的参数\(\mu\)和\(\sigma\) 并不是它的均值和方差。
\item
  对数正态分布的概率密度函数是右偏、厚尾的，因而可以很好地拟合许多损失分布的情形。
\item
  当\(\sigma\)很小的时候，对数正态分布与正态分布非常相似。
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ===========================================}
\CommentTok{\# 对数正态分布}
\CommentTok{\# ===========================================}
\FunctionTok{par}\NormalTok{(}\AttributeTok{mfrow =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{) )}
\CommentTok{\# 固定 mu }
\NormalTok{mu }\OtherTok{\textless{}{-}} \DecValTok{2}                
\NormalTok{sigma }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\FloatTok{0.5}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{)     }
\NormalTok{x0 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\FloatTok{0.001}\NormalTok{, }\DecValTok{15}\NormalTok{, }\AttributeTok{length.out =} \DecValTok{100}\NormalTok{)}
\NormalTok{f1 }\OtherTok{\textless{}{-}} \FunctionTok{dlnorm}\NormalTok{(x0,  }\AttributeTok{meanlog =}\NormalTok{ mu, }\AttributeTok{sdlog =}\NormalTok{ sigma[}\DecValTok{1}\NormalTok{])}
\NormalTok{f2 }\OtherTok{\textless{}{-}} \FunctionTok{dlnorm}\NormalTok{(x0,  }\AttributeTok{meanlog =}\NormalTok{ mu, }\AttributeTok{sdlog =}\NormalTok{ sigma[}\DecValTok{2}\NormalTok{])}
\NormalTok{f3 }\OtherTok{\textless{}{-}} \FunctionTok{dlnorm}\NormalTok{(x0,  }\AttributeTok{meanlog =}\NormalTok{ mu, }\AttributeTok{sdlog =}\NormalTok{ sigma[}\DecValTok{3}\NormalTok{])}

\FunctionTok{matplot}\NormalTok{(x0, }\FunctionTok{cbind}\NormalTok{(f1, f2, f3), }\AttributeTok{main =} \StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,  }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }\AttributeTok{lty =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{, }\AttributeTok{ylab =} \StringTok{\textquotesingle{}密度函数\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<af>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<86>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<ba>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<a6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<87>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<bd>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<95>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<b0>代替了dot
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{legend}\NormalTok{(}\StringTok{\textquotesingle{}topright\textquotesingle{}}\NormalTok{,}\AttributeTok{legend =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}mu = 2, sigma = 0.5\textquotesingle{}}\NormalTok{, }
                             \StringTok{\textquotesingle{}mu = 2, sigma = 1\textquotesingle{}}\NormalTok{, }
                             \StringTok{\textquotesingle{}mu = 2, sigma = 2\textquotesingle{}}\NormalTok{),}
       \AttributeTok{lty =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{), }\AttributeTok{bty =} \StringTok{"n"}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{,  }\AttributeTok{col =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{)}

\CommentTok{\# 固定 sigma}
\NormalTok{mu }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{)}
\NormalTok{sigma }\OtherTok{\textless{}{-}} \DecValTok{1}
\NormalTok{x0 }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\FloatTok{0.001}\NormalTok{, }\DecValTok{15}\NormalTok{, }\AttributeTok{length.out =} \DecValTok{100}\NormalTok{)}
\NormalTok{f1 }\OtherTok{\textless{}{-}} \FunctionTok{dlnorm}\NormalTok{(x0,  }\AttributeTok{meanlog =}\NormalTok{ mu[}\DecValTok{1}\NormalTok{], }\AttributeTok{sdlog =}\NormalTok{ sigma)}
\NormalTok{f2 }\OtherTok{\textless{}{-}} \FunctionTok{dlnorm}\NormalTok{(x0,  }\AttributeTok{meanlog =}\NormalTok{ mu[}\DecValTok{2}\NormalTok{], }\AttributeTok{sdlog =}\NormalTok{ sigma)}
\NormalTok{f3 }\OtherTok{\textless{}{-}} \FunctionTok{dlnorm}\NormalTok{(x0,  }\AttributeTok{meanlog =}\NormalTok{ mu[}\DecValTok{3}\NormalTok{], }\AttributeTok{sdlog =}\NormalTok{ sigma)}

\FunctionTok{matplot}\NormalTok{(x0, }\FunctionTok{cbind}\NormalTok{(f1, f2, f3), }\AttributeTok{main =} \StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,  }\AttributeTok{type =} \StringTok{\textquotesingle{}l\textquotesingle{}}\NormalTok{, }\AttributeTok{lty =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{, }\AttributeTok{ylab =} \StringTok{\textquotesingle{}密度函数\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<af>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<86>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<ba>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<a6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e5>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<87>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<bd>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<e6>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<95>代替了dot
\end{verbatim}

\begin{verbatim}
## Warning in title(...): 'mbcsToSbcs'里转换'瀵嗗害鍑芥暟'出错：<b0>代替了dot
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{legend}\NormalTok{(}\StringTok{\textquotesingle{}topright\textquotesingle{}}\NormalTok{,       }\AttributeTok{legend =} \FunctionTok{c}\NormalTok{(}\StringTok{\textquotesingle{}mu = 1, sigma = 1\textquotesingle{}}\NormalTok{, }
                                    \StringTok{\textquotesingle{}mu = 2, sigma = 1\textquotesingle{}}\NormalTok{, }
                                    \StringTok{\textquotesingle{}mu = 3, sigma = 1\textquotesingle{}}\NormalTok{),}
       \AttributeTok{lty =} \FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{), }\AttributeTok{bty =} \StringTok{"n"}\NormalTok{, }\AttributeTok{lwd =} \DecValTok{2}\NormalTok{,  }\AttributeTok{col =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{bookdown-demo_files/figure-latex/plot-lognormal-1.pdf}

\hypertarget{ux8bfeux540eux4e60ux9898}{%
\section{课后习题}\label{ux8bfeux540eux4e60ux9898}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  假设损失金额服从下述概率分布：
  \[
  f(x)=\frac{4(100-x)^3}{100^4},\quad\quad  0<x\le 100.
  \]
  且保单限额为 60。
  请计算含零赔款的期望值 \(\mathbb{E}(X \wedge 60)\)。
\end{enumerate}

解：

\[S(x)=\left(\frac{100-x}{100}\right)^4\]
\[
\mathbb{E}(X \wedge 60)
=\int_{0}^{60}\left(\frac{100-x}{100}\right)^4dx
= 19.7952
\]

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  一个损失随机变量 \(X\) 有如下特征：
\end{enumerate}

\begin{longtable}[]{@{}ccc@{}}
\toprule
\(x\) & \(F(x)\) & \(\mathbb{E}(X\wedge x)\) \\
\midrule
\endhead
0 & 0.0 & 0 \\
100 & 0.2 & 91 \\
200 & 0.6 & 153 \\
1000 & 1.0 & 331 \\
\bottomrule
\end{longtable}

请计算含有免赔额100的平均超额损失。

解：
\[由于F(1000) = 1，E[X \wedge 1000] = E[X]。\]

\[E[X] = E[X \wedge 100 ] + e(100)(1 - F(100))\]

\[331 = 91 + e(100)(1 - 0.2)\]
\[e(100)=\frac{240}{0.8}=300\]

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  假设某险种的索赔次数服从参数\(\lambda=2\)的泊松分布，如果将保险责任减少一项（假设此项责任的索赔次数占总索赔次数的10％），那么剩余责任的索赔次数仍将服从泊松分布，泊松参数成为\(\lambda=0.9*2=1.8\)。
\end{enumerate}

\hypertarget{riskmea}{%
\chapter{风险度量}\label{riskmea}}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{ux98ceux9669ux5ea6ux91cfux7684ux539fux5219}{%
\section{风险度量的原则}\label{ux98ceux9669ux5ea6ux91cfux7684ux539fux5219}}

精算和风险管理的基础是对风险进行合理的度量。

\begin{itemize}
\item
  从数学上看，风险是用概率方法描述的，风险度量把一个代表风险的随机变量转化为一个实值的过程。
\item
  假设 \(X\) 表示随机风险，\(\rho\) 为风险度量方法，\(r\) 为风险度量值，则风险度量过程可以表示为： \[r = \rho(X)\]
\end{itemize}

其中，\(\rho\) 就是将随机风险转化为非负实数的一个风险度量函数。

常用的风险度量方法有：

\begin{itemize}
\item
  基于方差、半方差等的离差方法
\item
  基于在险价值、条件在险价值等的分位数方法
\item
  极值理论
\end{itemize}

这一节我们主要介绍常用的\textbf{分位数}风险度量方法和\textbf{极值理论}。

\hypertarget{ux98ceux9669ux5ea6ux91cfux7684ux4e00ux81f4ux6027ux8981ux6c42}{%
\section{风险度量的一致性要求}\label{ux98ceux9669ux5ea6ux91cfux7684ux4e00ux81f4ux6027ux8981ux6c42}}

风险的度量必须遵循一定的原则，合理的风险度量方法应该与经济原理、与人们的认知一致，不会出现悖论。因此，风险应该满足一致性风险度量公理体系。

\textbf{一致性风险度量}是指风险度量 \(\rho\) 对任意两个随机变量 \(X\) 和 \(Y\) 应满足以下4个特性：

\begin{itemize}
\item
  次可加性(Subadditivity): \(\rho(X) + \rho(Y) \le \rho(X+Y)\)
\item
  单调性 (Monotonicity): 若 \(X\le Y\) 则\(\rho(X)\le \rho(Y)\)
\item
  正齐次性 (Positive homogeneity): 对于任意常数\(c>0\), \(\rho(cX)=c\rho(X)\)
\item
  平移不变性 (Translation invariance): 对于任意正常数 \(c\), \(\rho(X+c)=\rho(X)+c\)
\end{itemize}

\hypertarget{varvalue-at-riskux5728ux9669ux4ef7ux503c}{%
\section{VaR（Value-at-Risk，在险价值）}\label{varvalue-at-riskux5728ux9669ux4ef7ux503c}}

定义：如果 \(X\) 表示随机风险造成的损失，那么 \(X\) 在100p水平上的 \textbf{VaR} ，记为 \(VaR_p(X)\) 或 \(\pi_p\) 是X的分布的\(100p\) 分位数。

对于连续性分布，我们有

\[
\Pr(X>\pi_p)=1-p.
\]

\begin{itemize}
\item
  在险价值是指在一定的置信水平下，在未来特定的一段时间内的最大可能损失
\item
  至少有 \(p=0.95,0.99,0.999...\) 的把握保证最大损失不超过 \(x\)
\end{itemize}

\textbf{不满足一致性的例子}:

假设 \(Z\) 是一个连续损失随机变量，其分布函数为：

\[
\begin{align*}
&F_Z(1) = 0.91 \\
& F_Z(90) =  0.95\\
& F_Z(100) =  0.96
\end{align*}
\]

\(VaR_{95\%}(Z) = 90\)

假设我们把风险\(Z\)拆分成两个独立的风险\(X\)和\(Y\)，使两个风险的总和相当于风险 \(Z\)，即\(X+Y=Z\)

\[
X=\begin{cases}
Z, & \quad Z\le 100,\\
0, & \quad Z> 100,
\end{cases}
\] 和 \[
Y=\begin{cases}
0, & \quad Z\le 100,\\
Z, & \quad Z> 100.
\end{cases}
\] 那么\(VaR_{95\%}(X) = 1\)并且\(VaR_{95\%}(Y) \le 0\)

\[
VaR_{95\%}(Z) = VaR_{95\%}(X+Y) > VaR_{95\%}(X) + VaR_{95\%}(Y).
\]

\hypertarget{tvar-tail-value-at-riskux5c3eux90e8ux5728ux9669ux4ef7ux503c}{%
\section{TVaR （Tail-Value-at-Risk，尾部在险价值）}\label{tvar-tail-value-at-riskux5c3eux90e8ux5728ux9669ux4ef7ux503c}}

TVaR 弥补了 VaR 方法作为风险度量函数不满足次可加性的缺陷，因而是一个具有优良性质的一致性风险度量函数。

\begin{quote}
定义：TVaR 是超过的损失 \(VaR_p(X)\) 的期望值，即 \(TVaR_p\) 是最坏的 \(100(1-p)%
\) 损失的期望值。\(TVaR_p\) 定义为：

\[
\begin{align*}
&  \\ 
& \text{TVa}{{\text{R}}_{p}}(X)=\frac{\int_{p}^{1}{\text{Va}{{\text{R}}_{u}}(X)du}}{1-p}  
\end{align*}
\]
\end{quote}

其中，TVaR 可以理解为是在区间（p, 1）上的VaR 的算数平均数，因此在相同的概率水平下，TVaR大于VaR的度量结果。

性质: 对于连续分布而言，TVaRp还可以写成更为直观的表达式：

\[
\begin{align*}
\text{TVa}{{\text{R}}_{p}}(X)
=\mathbb{E}(X|X>\text{Va}{{\text{R}}_{p}})
&= \frac{\int_{\text{Va}{{\text{R}}_{p}}}^{\infty }{xf(x)dx}}{1-F(\text{Va}{{\text{R}}_{p}})}\\
&=\frac{\int_{\text{Va}{{\text{R}}_{p}}}^{\infty }{xf(x)dx}}{1-p}
\end{align*}
\]
-证明

\[
\begin{align*}
  \text{TVa}{{\text{R}}_{p}}(X)& =\frac{\int_{\text{Va}{{\text{R}}_{p}}}^{\infty }{xf(x)dx}}{1-p}\text{   } \\ 
 & =\frac{\int_{\text{Va}{{\text{R}}_{p}}}^{\infty }{x\text{d}F(x)}}{1-p}
 \quad\quad
 \text{            if   }F(x)=u\Rightarrow x=\text{Va}{{\text{R}}_{u}}(X) \\ 
 & =\frac{\int_{p}^{1}{\text{Va}{{\text{R}}_{u}}(X)du}}{1-p}  
\end{align*}
\]
例：假设随机变量服从参数为\((\mu,\sigma)\)的正态分布，求该正态分布VaR和TVaR的表达式。

\[
\text{Va}{{\text{R}}_{p}}(X)=\mu +\sigma \text{ }{{\Phi }^{-1}}(p),
\]

\[
\text{TVa}{{\text{R}}_{p}}(X)=\mu +\frac{\sigma }{1-p}\phi \left[ {{\Phi }^{-1}}(p) \right].
\]

\[
\begin{align*}
  \text{TVa}{{\text{R}}_{p}}(X)& =\frac{\int_{p}^{1}{\text{Va}{{\text{R}}_{u}}(X)du}}{1-p}=\frac{\int_{p}^{1}{\left[ \mu +\sigma {{\Phi }^{-1}}(u) \right]du}}{1-p} \\ 
 & =\mu +\frac{\sigma }{1-p}\int_{p}^{1}{{{\Phi }^{-1}}(u)du}
 \quad \text{      let }u=\Phi (x) \\ 
 & =\mu +\frac{\sigma }{1-p}\int_{{{\Phi }^{-1}}(p)}^{\infty }{x\phi (x)dx} \\ 
 & =\mu +\frac{\sigma }{1-p}\phi \left[ {{\Phi }^{-1}}p \right]
\end{align*}
\]
如果损失分布是离散的，计算 TVaR 会复杂一些。

例:

\[
X=\begin{cases}
  & 0\text{           的概率为  0}\text{.9} \\ 
 & 100\text{      的概率为   0}\text{.06} \\ 
 & 1000\text{    的概率为   0}\text{.04} \\ 
\end{cases} 
\]

计算 TVaR 90\% 和 TVaR 95\%。

-对于90\% 的水平, 由于\(\text{VaR}_{90\%}=0\), \[\text{TVa}{{\text{R}}_{0.90}}=\frac{(0.06)(100)+(0.04)(1000)}{0.10}=460\]

-对于95\% 的水平, 右尾的 5\% 由两部分组成：4\% 的损失为1000，1\%的损失等于100 ，故
\[
\text{TVa}{{\text{R}}_{0.95}}=\frac{(0.01)(100)+(0.04)(1000)}{0.05}=820
\]

\hypertarget{ux8bfeux540eux4e60ux9898-1}{%
\section{课后习题}\label{ux8bfeux540eux4e60ux9898-1}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  如果 \(X\) 有以下分布: \[
  X=\begin{cases}
  & 100, \quad \quad  0.5\% \\
  & 50, \quad \quad  \ \  4.5\% \\
  & 10, \quad \quad  \ \ 10\% \\
  & 0, \quad \quad \ \ \ \ 85\%
  \end{cases}
  \]
\end{enumerate}

请计算\(VaR_{99\%}(X)\)和\(VaR_{95\%}(X)\).

解：\(\text{Va}{{\text{R}}_{0.95}}=10,\quad \text{Va}{{\text{R}}_{0.99}}=50, \quad \text{Va}{{\text{R}}_{0.999}}=100\)。

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  损失服从正态分布，均值为33，标准差为109，计算 \(VaR_{95\%}\).
\end{enumerate}

\[
\begin{align*}
  & F(\text{Va}{{\text{R}}_{0.95}})=0.95 \\ 
 & \Phi \left( \frac{\text{Va}{{\text{R}}_{0.95}}-33}{109} \right)=0.95 \\ 
 & \Rightarrow \frac{\text{Va}{{\text{R}}_{0.95}}-33}{109}=1.6449 \\ 
 & \Rightarrow \text{Va}{{\text{R}}_{0.95}}=212.289
\end{align*}
\]

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{qnorm}\NormalTok{ ( }\FloatTok{0.95}\NormalTok{, }\AttributeTok{mean =} \DecValTok{33}\NormalTok{, }\AttributeTok{sd =} \DecValTok{109}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 212.289
\end{verbatim}

\hypertarget{lossmodif}{%
\chapter{损失调整}\label{lossmodif}}

在非寿险精算中，风险实际造成的损失和保险公司的赔款通常是不一致的。赔款可能受到保单条款的影响，主要包括：

\begin{itemize}
\item
  免赔额
\item
  赔偿限额
\item
  共同保险
\item
  通货膨胀
\end{itemize}

\textbf{索赔频率}和\textbf{索赔强度}的计算就不是简单的损失次数和损失金额的计算。

\hypertarget{ux514dux8d54ux989dux5bf9ux8d54ux4ed8ux91d1ux989dux7684ux5f71ux54cd}{%
\section{免赔额对赔付金额的影响}\label{ux514dux8d54ux989dux5bf9ux8d54ux4ed8ux91d1ux989dux7684ux5f71ux54cd}}

许多保险合同中都规定了免赔额，其目的是提高保单持有人的风险防范意识，同时减少保险公司的小额赔款，降低理赔费用。

\begin{itemize}
\item
  如果用 \(d\) 表示免赔额，则当损失金额不超过 \(d\) 时，保险公司没有任何赔款支出
\item
  而当损失金额超过 \(d\) 时，保险公司的赔款为 \((x-d)\)。
\item
  免赔额的应用对索赔次数和赔付额都会产生影响。
\end{itemize}

如果用 \(x\) 表示保单持有人的损失，用 \(d\) 表示免赔额，用 \(Y\) 表示保险公司的赔款，则对 \(Y\) 可以有下述两种解释:

\begin{itemize}
\item
  （1）保险公司对每次损失的赔款包括当保单持有人的损失不超过免赔额 \(d\) 时，保险公司支付的零赔款在内：含零赔款
\item
  （2）保险公司的每次支付行为相对应的赔款，不包括当保单持有人的损失不超过免赔额 \(d\) 时，保险公司无须支付的零赔款：非零赔款
\end{itemize}

\hypertarget{ux542bux96f6ux8d54ux6b3e}{%
\subsection{含零赔款}\label{ux542bux96f6ux8d54ux6b3e}}

如果把 \(Y\) 解释为保险公司对每次损失的赔款，则 \(Y\) 就是超额损失随机变量，也可以称作 ``含零赔款'' 的随机变量。该随机变量可表示为:

\[
{{Y}^{L}}={{\left( X-d \right)}_{+}}= 
\begin{cases}
  & 0,\quad \quad \quad X\le d \\ 
 & X-d,\quad X>d .
\end{cases} 
\]
含零赔款的随机变量取零值的概率（即损失不超过免赔额 \(d\) 的概率）为:
\[
Pr(Y^L≤0)=Pr(X≤d)= F_x(d)
\]
\(Y^L\)的分布函数和密度函数分别为:
\[
F_{Y^L}(y)= Pr(Y^L≤y)=Pr(X- d≤y)=Pr(X≤y+d)=F_x(y+d)，y>0\]
\[
f_{Y^L}(y)= f_x(y+d)， y>0
\]

\hypertarget{ux975eux96f6ux8d54ux6b3e}{%
\subsection{非零赔款}\label{ux975eux96f6ux8d54ux6b3e}}

如果把 \(Y\) 解释为保险公司每次支付行为所发生的赔款，则 \(Y\) 就是``非零赔款''的随机变量。该随机变量可表示为:
\[Y^P=X-d | X>d\]
上式表明，\(Y^P\) 是一个条件随机变量，只有当 \(X>d\) 时, \(Y^P\) 才有定义。
\(Y^P\) 的分布函数和密度函数分别为:
\[
F_{Y^P}(y)=\Pr(Y^{P}≤y|X>d)
=Pr(X-d≤y|X>d)
=\frac {Pr(0<X-d≤y)}{Pr(X>d)}
=\frac{F_x (y+d)-F_x(d) }{1-F_x (d)}， y>0
\]
\[f_{Y^P}(y)=\frac{ f_{x}(y+d)}{1-F_{X}(d)}， y>0\]

\begin{quote}
定理：当一般免赔额为 \(d\) 时，含零赔款的均值为\(E({Y}^{L})=E(X)-E({X}\wedge {d})\)，非零赔款的均值为：
\[
E(Y^P)=\frac{\mathbb{E}(X)-\mathbb{E}(X\wedge d)}{1-F_{X}(d)}
\]
\end{quote}

\hypertarget{ux901aux8d27ux81a8ux80c0ux5bf9ux8d54ux4ed8ux91d1ux989dux7684ux5f71ux54cd}{%
\section{通货膨胀对赔付金额的影响}\label{ux901aux8d27ux81a8ux80c0ux5bf9ux8d54ux4ed8ux91d1ux989dux7684ux5f71ux54cd}}

定理：如果一般免赔额为 \(d\)，均匀的通货膨胀率为 \(r\)，则平均含零赔款为：
\[
E(Y^L)=(1+r)\left\{
\mathbb{E}(X) - \mathbb{E}(X \wedge \frac{d}{1+r})
\right\}
\]
例：损失服从\(\alpha=3,\theta=2000\) 的帕累托分布，讨论免赔额为\(500\)，通货膨胀率为 \(10%
\) 时对损失的影响。

答案：平均含零赔款为\(640\)，平均非零赔款为 \(1250\) ，当通货膨胀率为 \(10%
\) 时：
\[
\begin{align*}
\mathbb{E}\left(X \wedge \frac{500}{1.1}\right) &= 
\mathbb{E}(X \wedge 454.55)=336.08.
\end{align*}
\]
通货膨胀后的平均含零赔款为： \(1.1(1,000 - 336.08) = 730.32\)，增加了\(14.11%
\)。
\[
F_Y(500)=0.459.
\]
平均非零赔款为： \(730.32/(1 - 0.459) = 1,350\)， 增长了 \(8%
\)。

\hypertarget{ux8d54ux507fux9650ux989dux5bf9ux8d54ux4ed8ux91d1ux989dux7684ux5f71ux54cd}{%
\section{赔偿限额对赔付金额的影响}\label{ux8d54ux507fux9650ux989dux5bf9ux8d54ux4ed8ux91d1ux989dux7684ux5f71ux54cd}}

赔偿限额的作用与免赔额正好相反。在免赔额条件下，保险公司对低于免赔额的损失不予赔偿，而在赔偿限额条件下，保险公司对高于赔偿限额的损失不予赔偿。换言之，赔偿限额是保险公司对一次索赔的最大可能赔款。

\begin{itemize}
\item
  如果赔偿限额为 \(u\)，则当损失低于\(u\) 时，保险公司将全部赔偿，而当损失超过\(u\) 时，保险公司只赔偿 \(u\)。
\item
  赔偿限额的作用是生成一个``右删改''随机变量，即将超过 \(u\) 的损失全部修改为 \(u\)。
\item
  假设 \(x\) 表示实际损失的随机变量，\(Y\) 表示应用赔偿限额 \(u\) 所生成的随机变量，则 \(Y\) 的分布函数和密度函数分别为:
\end{itemize}

\[
F_Y(y)=\begin{cases}
F_X(y),\quad & y \le u,\\
1, \quad & y>u,
\end{cases}
\]

\[
f_Y(y)=\begin{cases}
f_X(y),\quad & y \le u,\\
1-F_X(u), \quad & y>u.
\end{cases}
\]
如果赔偿限额为 \(u\)，均匀的通货膨胀率为 \(r\)，则保险公司的平均赔款可表示为:
\[
E({Y}\wedge {U})=(1+r)\mathbb{E}[X\wedge \frac{u}{1+r}]
\]

如果保单的免赔额为 \(d\)，赔偿限额为 \(u-d\)，则保险公司的赔款为:

\[
Y=\begin{cases}
   0 \ \ \ \ \ &X\le d \\ 
  X-d,\ \ \ &d<X<u \\ 
  u-d,\ \ \ \ &X\ge u \\ 
\end{cases} 
\]

\hypertarget{ux514dux8d54ux989dux548cux8d54ux507fux9650ux989dux7684ux4f8bux5b50}{%
\section{免赔额和赔偿限额的例子}\label{ux514dux8d54ux989dux548cux8d54ux507fux9650ux989dux7684ux4f8bux5b50}}

\begin{itemize}
\tightlist
\item
  假设某险种的保单规定绝对免赔额为\(100\)元，保单赔偿限额为\(900\)元。假设损失服从 \(Weibull\) 分布：
\end{itemize}

\[
F(x)=1-{{e}^{- {{{(x/\theta)}}{}^{\tau }}}},x>0,\theta >0,\tau >0
\]

求理赔额 \(Y^P\) 的分布函数。

答案：假设 \(X\) 表示实际损失额， \(Y^P\) 表示理赔额（非零），则有

\[
{{Y}^{P}}=\left\{ \begin{matrix}
   \begin{matrix}
   {NA}  \\
   X-100,  \\
   900,  \\
\end{matrix} & \begin{matrix}
   X\le 100  \\
   100<X\le 1000  \\
   X>1000  \\
\end{matrix}  \\
\end{matrix} \right.
\]

\(Y^P\) 的分布函数为

\[
{{F}_{Y}}(y)=\left\{ \begin{matrix}
   \begin{matrix}
   0,  \\
   \frac{{{F}_{X}}(y+100)-{{F}_{X}}(100)}{1-{{F}_{X}}(100)},  \\
   1,  \\
\end{matrix} & \begin{matrix}
   y=0  \\
   0<y\le 900  \\
   y\ge 900  \\
\end{matrix}  \\
\end{matrix} \right.
\]

\(Y^P\) 的密度函数为

\[
{{f}_{{{Y}^{P}}}}(y)=\left\{ \begin{matrix}
   \begin{matrix}
   \frac{{{f}_{X}}(y+100)}{1-{{F}_{X}}(100)}, & \text{   }0\le y<900  \\
\end{matrix}  \\
   \begin{matrix}
   \frac{1-{{F}_{X}}(1000)}{1-{{F}_{X}}(100)}\text{,  } & y=900  \\
\end{matrix}  \\
   \begin{matrix}
   0,\text{                   } & y>900  \\
\end{matrix}  \\
\end{matrix} \right.\text{        }
\]

当\(y = 900\)时，

\[
{{f}_{{{Y}^{p}}}}(900)=\frac{1-{{F}_{X}}(1000)}{1-{{F}_{X}}(100)}=\frac{\exp [-{{(1000/ \theta )}^{\tau }}]}{\exp [-{{(100/ \theta )}^{\tau }}]}
\]

当\(0\le y<900\)时，

\[
{{f}_{{{Y}^{P}}}}(y)=\frac{{{f}_{X}}(y+100)}{1-{{F}_{X}}(100)}=\frac{{{(1/\theta) }^{\tau }}\tau {{(y+100)}^{\tau -1}}\exp [-{{(1/\theta) }^{\tau }}{{(y+100)}^{\tau }}]}{\exp [-{{(100/ \theta )}^{\tau }}]}
\]

\hypertarget{ux5171ux540cux4fddux9669ux5bf9ux8d54ux4ed8ux91d1ux989dux7684ux5f71ux54cd}{%
\section{共同保险对赔付金额的影响}\label{ux5171ux540cux4fddux9669ux5bf9ux8d54ux4ed8ux91d1ux989dux7684ux5f71ux54cd}}

共同保险是指对每一次损失，保险公司只赔偿一定的比例，如\(100\alpha%
\)，而保单持有人自负剩余的损失。

\begin{itemize}
\item
  如果保险合同中只规定了共同保险，则保险公司的赔款随机变量可以表示为\(Y=\alpha X\),其中 \(X\) 为保单持有人的实际损失。
\item
  在这种情况下，保险公司的平均赔款为\(E(Y)=\alpha E(X)\)。
\end{itemize}

下面讨论一种更加具有一般性的随机变量：

\begin{itemize}
\item
  即实际损失 \(X\) 经通货膨胀 \((r)\)、赔偿限额 \(（u）\)、一般免赔额 \(（d）\) 和共同保险 \(（\alpha）\) 调整后保险公司的赔款随机变量。
\item
  此时，保险公司的含零赔款 \(Y^L\) 可以表示为下述的随机变量:
  \[
  Y^L=\begin{cases}
  0，\quad & X<\frac{d}{1+r}\\
  \alpha[(1+r)X-d]， \quad & \frac{d}{1+r}\le X < \frac{u}{1+r}\\
  \alpha(u-d)，\quad & X \ge \frac{u}{1+r}
  \end{cases}
  \]
  在上述定义中，假设对实际损失的调整是按照一个特定顺序进行的，即首先进行通货膨胀调整，再使用赔偿限额，然后应用免赔额，最后才是共同保险。
\item
  由于赔偿限额在免赔额之前应用，所以，保险公司的最大可能赔款为\(\alpha(u-d)\)。如果用 \(Y^P\) 表示保险公司的非零赔款随机变量，则当 \(X < \frac{d}{1+r}\) 时，\(Y^P\) 没有定义。
\item
  可以证明，当实际损失 \(X\) 按照通货膨胀 \((r)\)、赔偿限额 \((u)\)、一般免赔额 \((d)\) 和共同保险 \((α)\) 的顺序调整以后，其含零赔款 \(Y^L\) 的均值为:
  \[
  \mathbb{E}(Y^L)=\alpha(1+r)\left[
  \mathbb{E}\left(X \wedge \frac{u}{1+r}\right)-
  \mathbb{E}\left(X \wedge \frac{d}{1+r}\right)
  \right]
  \]
  对于非零赔款 \(Y^P\)，其均值为：
  \[
  \mathbb{E}(Y^p) = \frac{\mathbb{E}(Y^L)}{1-F_X\left(\frac{d}{1+r} \right)}
  \]
\end{itemize}

例：今年，当 \(d = 10,11,12,.. .,26\) 时，损失分布服从 ：
\[
\mathbb{E}[X\wedge d]=-0.025d^2+1.475d-2.25
\]

明年，每年的通货膨胀率为10\%，免赔额为11，保险最多报销11，求明年报销的与今年报销金额的比值。

for \(d = 10,11,12,.. .,26\).

Next year, losses will be uniformly higher by 10\%. An
insurance policy reimburses 100\% of losses subject to a deductible of 11 up to a maximum
reimbursement of 11.

Determine the ratio of next year's reimbursements to this year's
reimbursements.

The quantity we seek is

答案：
\[
\frac{1.1[\mathbb{E}[X\wedge 22/1.1]-\mathbb{E}[X\wedge 11/1.1]]}{\mathbb{E}[X\wedge 22]-\mathbb{E}[X\wedge 11]}
=1.115
\]

\hypertarget{ux514dux8d54ux989dux5bf9ux7d22ux8d54ux6b21ux6570ux7684ux5f71ux54cd}{%
\section{免赔额对索赔次数的影响}\label{ux514dux8d54ux989dux5bf9ux7d22ux8d54ux6b21ux6570ux7684ux5f71ux54cd}}

在前面的讨论中，我们用 \(N\) 表示实际发生的损失次数。现在考虑增加免赔额\(d\) 以后，保单持有人的索赔次数 \(N^*\)。假设增加免赔额不会影响损失发生的过程。
显然，对于任何一次实际发生的损失 \(X\)，只有当它大于免赔额 \(d\) 时，保单持有人才会提出索赔。因此保单持有人提出索赔的概率(也是保险公司发生赔付的概率)为:

\[\upsilon=Pr(X>d)\]
如果用 \(I_j = 1\) 表示第j次损失导致了索赔，用 \(I_j=0\) 表示第\(j\) 次损失没有导致索赔，则\(I_j\)就是服从参数为 \(\upsilon\) 的贝努利分布，而索赔次数\(N^*\)可以表示为:
\[N^*=I_1+...+I_N\]
如果假设\(I_j\)相互独立，同时与\(N\) 也相互独立，则\(N^*\) 是一个复合分布，其中首分布就是损失次数\(N\) 的分布，而次分布是参数为\(\upsilon\) 的贝努利分布。因此
\[P_{N^*}(z)=P_N[1+\upsilon (z-1)]\]
可以证明，增加免赔额以后,\((a,b,0)\) 分布类和\((a,b,1)\) 都能保持其原来的形式不变，只是其参数的取值发生了变化。

例1:
证明：若损失次数是泊松 \(\lambda\)，则索赔次数也是泊松 \(v\lambda\)。

答案：
损失次数：
\[
P_{N^L}(z)=\exp[{\lambda}{(z-1)}]
\]

索赔次数:
\[
\begin{align*}
P_{N^P}(z)&=\exp[{v\lambda}(z-1)]\\
&=P_{N^L}[1+v(z-1)]\\
&=\exp[\lambda(1+ v(z-1)-1)]\\
&=\exp[{v\lambda}{(z-1)}]
\end{align*}
\]

例2:
证明：如果损失次数 \(N^L\) 服从负二项分布，参数为 \((r,\beta)\)。

答案：
\[
P_{N^L}(z)=[1-{\beta}{(z-1)}]^{-r}
\]

索赔次数 \(N^P\) 仍然服从负二项分布，参数为\((r,v\beta)\)：
\[
\begin{align*}
P_{N^P}(z)&=P_{N^L}[1+v(z-1)]\\
&=[1-\beta(1+v(z-1)-1)]^{-r}\\
&=[1-{v\beta}{(z-1)}]^{-r}
\end{align*}
\]

以下是\((a,b,0)\)分布的索赔次数在增加免赔额后其对应参数取值发生的变化:

\begin{longtable}[]{@{}ccc@{}}
\toprule
\(N^L\) & 母函数 & \(N^P\) \\
\midrule
\endhead
泊松(\(\lambda\)) & \(exp[\lambda (z-1)]\) & \(\lambda ^*=v\lambda\) \\
二项(\(m,q\)) & \({[1+q(z-1)]}^m\) & \(m^*=m,q^*=vq\) \\
负二项(\(r,\beta\)) & \({[1-\beta (z-1)]}^{-r}\) & \(r^*=r,\beta ^*=v\beta\) \\
\bottomrule
\end{longtable}

例3:\\
损失金额服从帕累托分布，参数为\(\alpha=3，\theta=1000\)，损失次数服从负二项分布，参数为\(r=2，\beta=3\)，求免赔额为250时损失次数服从的分布及参数。

答案：
\(N^p\) 一定服从负二项分布，对应参数为 \(r^* =r\) ，\(\beta^* = v\beta\)。

其中：
\[
v = 1-F(250)=0.512,
\]
即\(r^* =2\)，\(\beta^* = 1.536\)。

\hypertarget{ux8bfeux540eux4e60ux9898-2}{%
\section{课后习题}\label{ux8bfeux540eux4e60ux9898-2}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  某家公司购买了一份商业保险，财产保险的限额为70000，某次事故发生时财产的实际价值为100000，该保险的共同保险为80\%，免赔额为200，免赔额优先于共同保险和限额考虑，实际损失为20000，求此次损失中保险公司的赔款。
\item
  1993年，损失的概率密度函数为\(f(x)=e^x,x>0\)，1993年至1994年的通货膨胀率为5\%，每年的赔偿限额为1，在考虑限额的情况下，求1993年至1994年的通货膨胀率。
\item
  假设损失服从\(\sigma\)=2.5, \(\theta\)=1000的单参数帕累托分布，赔偿限额为5000，求平均含零赔款。
\item
  损失的分布函数为：
  \[
  F(x)=1-0.8e^{-0.02x}-0.2e^{-0.001x},x\ge0
  \]
  每次损失的赔偿限额为1000，求赔款的期望。
\item
  已知：
  1）\(E(X\wedge x)\)= 500-1000000/x ，x \textgreater{} 2000；
  2）赔偿限额为10000；
  3）通货膨胀率为25\%。
  求通货膨胀后的期望赔款和通货膨胀前的期望赔款的比率。
\item
  损失的概率密度函数为：
  \[f_{x}(x) = 0.02x , 0 < x < 10\]
  当免赔额为4时求平均非零赔款。
\item
  损失的概率密度函数为：\(f(x)=2x,0<x<1\)，当免赔额为\(d\)时，索赔金额小于0.5的概率为0.64，求\(d\)的值，其中\(0<d<1\)。
\item
  已知如下的损失相关的数据：

  \begin{longtable}[]{@{}ccc@{}}
  \toprule
  损失金额 & 损失次数 & 总损失金额 \\
  \midrule
  \endhead
  0-99 & 1100 & 58,500 \\
  100-247 & 400 & 70,000 \\
  250-499 & 300 & 120,000 \\
  500-999 & 200 & 150,000 \\
  \textgreater999 & 100 & 200,000 \\
  Total & 2100 & 598,500 \\
  \bottomrule
  \end{longtable}
\end{enumerate}

计算当免赔额从 100 变成250时，损失减少了多少百分比。

\hypertarget{parest}{%
\chapter{参数估计和统计推断}\label{parest}}

We have finished a nice book.

\hypertarget{ux6781ux5927ux4f3cux7136ux4f30ux8ba1}{%
\section{极大似然估计}\label{ux6781ux5927ux4f3cux7136ux4f30ux8ba1}}

\hypertarget{ux8d1dux53f6ux65afux4f30ux8ba1}{%
\section{贝叶斯估计}\label{ux8d1dux53f6ux65afux4f30ux8ba1}}

1

\hypertarget{classrating}{%
\chapter{分类费率定价方法}\label{classrating}}

\textbf{学习目标}：

\begin{quote}
掌握非寿险定价的相关概念
\end{quote}

\begin{quote}
理解分类费率厘定的基本原理
\end{quote}

\begin{quote}
理解广义线性模型的基本思想
\end{quote}

\hypertarget{ux76f8ux5173ux6982ux5ff5}{%
\section{相关概念}\label{ux76f8ux5173ux6982ux5ff5}}

在非寿险定价中，有一些基本概念十分重要，例如风险单位、赔款、保费和费用等。它们是非寿险定价的基本元素。为了便于理解和应用非寿险定价的理论和方法，本节首先对这些基本概念进行解释。

\hypertarget{ux98ceux9669ux57faux7840ux548cux98ceux9669ux5355ux4f4d}{%
\subsection{风险基础和风险单位}\label{ux98ceux9669ux57faux7840ux548cux98ceux9669ux5355ux4f4d}}

当被保险人将其潜在损失转移给保险人时，保险人需要收取保险费。保险费应该与保单持有人的潜在损失成比例。而度量潜在损失大小的一个基本工具就是风险基础（exposure base），它近似量化了风险的大小。因此，风险基础也就是保费基础（premium base），它的大小决定着保费的高低。

真实的风险是十分复杂的，同时也在不断变化之中。为了计算保费，保险人必须选择一个近似度量风险大小的基础，这就是风险基础。风险基础也称之为风险单位（exposure，unit of exposure），它是对风险进行度量的基本单位，也是非寿险费率厘定的基本单位。不同险种有不同的风险单位。 如车险、团体意外伤害险、劳工补偿保险的风险单位都是不一样的。描述了风险基础的总体规模的指标是风险单位数（exposures, number of exposures），有时也称作风险基础（exposure base）、风险规模或风险暴露。
例如，再汽车保险中，风险单位通常被确定为``车年''，为1辆车提供1年的保险，风险单位数为1个车年；为5辆汽车提供半年的保险，风险单位数为2.5个车年。

风险单位数的统计指标包含三种：

\begin{itemize}
\item
  承保风险(written exposures): 承保风险在一定时期内保险人已经签订了保险合同的风险单位数。
\item
  到期风险(earned exposures): 到期风险是在一定时期内保险人实际承担了保险责任的风险单位数。
\item
  有效风险 (in-force exposures): 有效风险是在某一时点上保险人正在承担保险责任的风险单位数。
\end{itemize}

\hypertarget{ux591aux5143ux7ebfux6027ux56deux5f52ux6a21ux578b}{%
\section{多元线性回归模型}\label{ux591aux5143ux7ebfux6027ux56deux5f52ux6a21ux578b}}

\hypertarget{ux5e7fux4e49ux7ebfux6027ux56deux5f52ux6a21ux578b}{%
\section{广义线性回归模型}\label{ux5e7fux4e49ux7ebfux6027ux56deux5f52ux6a21ux578b}}

\hypertarget{ux5206ux7c7bux5b9aux4ef7ux57faux672cux6846ux67b6}{%
\section{分类定价基本框架}\label{ux5206ux7c7bux5b9aux4ef7ux57faux672cux6846ux67b6}}

\hypertarget{ux6a21ux578b}{%
\section{0-1模型}\label{ux6a21ux578b}}

\hypertarget{ux7d22ux8d54ux6b21ux6570ux9884ux6d4bux6a21ux578b}{%
\section{索赔次数预测模型}\label{ux7d22ux8d54ux6b21ux6570ux9884ux6d4bux6a21ux578b}}

\hypertarget{ux7d22ux8d54ux91d1ux989dux9884ux6d4bux6a21ux578b}{%
\section{索赔金额预测模型}\label{ux7d22ux8d54ux91d1ux989dux9884ux6d4bux6a21ux578b}}

\hypertarget{ux7eafux4fddux8d39ux9884ux6d4bux6a21ux578b}{%
\section{纯保费预测模型}\label{ux7eafux4fddux8d39ux9884ux6d4bux6a21ux578b}}

\hypertarget{ux4e24ux6b65ux5b9aux4ef7ux6cd5}{%
\section{两步定价法}\label{ux4e24ux6b65ux5b9aux4ef7ux6cd5}}

\hypertarget{experiencerate}{%
\chapter{经验费率厘定方法}\label{experiencerate}}

We have finished a nice book.

\hypertarget{ux7ebfux6027ux6df7ux5408ux6a21ux578b}{%
\section{线性混合模型}\label{ux7ebfux6027ux6df7ux5408ux6a21ux578b}}

\hypertarget{ux6700ux7cbeux786eux4fe1ux5ea6ux6a21ux578b}{%
\section{最精确信度模型}\label{ux6700ux7cbeux786eux4fe1ux5ea6ux6a21ux578b}}

\hypertarget{ux7ecfux9a8cux8d1dux53f6ux65af}{%
\section{经验贝叶斯}\label{ux7ecfux9a8cux8d1dux53f6ux65af}}

\hypertarget{reserv}{%
\chapter{准备金评估方法}\label{reserv}}

非寿险责任准备金是保险公司为履行在非寿险业务中出售的保单责任及其相关支出所做的资金准备，是财产保险保险公司资产负债表负债项中的主要成分。责任准备金的评估是精算师非常重要的职能和具有挑战性的工作，这不仅是由于评估技术的复杂性，而且还需要精算师大量的主观判断。对责任准备金准确评估主要出于以下一些目的：保险公司的偿付能力评估的需要、保险公司的盈利能力评估的需要、公司经营计划的制定和保险理赔管理的需要。提取充足的责任准备金对于确保保险公司的有足够的偿付能力极为重要。如果不能对责任准备金进行合理的评估就不能对保险公司的财务状况作出正确的判断，评估责任准备金还有利于保险公司估计未来赔款的现金流，有利于公司做出合适的经营计划，此外责任准备金的评估对于公司的理赔人员处理赔案有重要的借鉴作用。

本章将从非寿险准备金的基本进行概述，将重点介绍未决赔款准备金最常用的评估方法（链梯法）。

\hypertarget{ux76f8ux5173ux6982ux5ff5-1}{%
\section{相关概念}\label{ux76f8ux5173ux6982ux5ff5-1}}

非寿险业务准备金主要分为三类：未到期责任准备金（未赚保费准备金）、未决赔款准备金和理赔费用准备金。未到期责任准备金是在准备金评估日为尚未终止的保险责任而提取的准备金。理赔费用准备金为尚未结案的赔案可能发生的费用而提取的准备金。未决赔款准备金对尚未结案的赔案而提取的准备金，主要分为两类：

\begin{itemize}
\item
  直接理赔费用准备金：为直接发生于具体赔案的专家费、律师费、损失检验费等而提取的；
\item
  间接理赔费用准备金：为非直接发生于具体赔案的费用而提取的。未决赔款准备金对尚未结案的赔案而提取的准备金，包括

  \begin{itemize}
  \item
    已发生已报案未决赔款准备金（IBNER）：为保险事故已经发生并已向保险公司提出索赔，保险公司尚未结案的赔案而提取的准备金；
  \item
    已发生未报案未决赔款准备金（IBNR）：狭义上是指保险事故已经发生，但尚未向保险公司提出索赔而提取的准备金。
  \end{itemize}
\end{itemize}

但是广义上IBNR还包括：已报案但尚未进入理赔程序的准备金、重立赔案的准备金和已发生已报案未决赔款准备金在未来的发展变化。

\hypertarget{ux786eux5b9aux6027ux65b9ux6cd5}{%
\section{确定性方法}\label{ux786eux5b9aux6027ux65b9ux6cd5}}

\hypertarget{ux968fux673aux6027ux65b9ux6cd5}{%
\section{随机性方法}\label{ux968fux673aux6027ux65b9ux6cd5}}

\hypertarget{methods}{%
\chapter{Methods}\label{methods}}

We describe our methods in this chapter.

Math can be added in body using usual syntax like this

\hypertarget{math-example}{%
\section{Math example}\label{math-example}}

\(p\) is unknown but expected to be around 1/3. Standard error will be approximated

\[
SE = \sqrt(\frac{p(1-p)}{n}) \approx \sqrt{\frac{1/3 (1 - 1/3)} {300}} = 0.027
\]

You can also use math in footnotes like this\footnote{where we mention \(p = \frac{a}{b}\)}.

We will approximate standard error to 0.027\footnote{\(p\) is unknown but expected to be around 1/3. Standard error will be approximated}

\[
SE = \sqrt(\frac{p(1-p)}{n}) \approx \sqrt{\frac{1/3 (1 - 1/3)} {300}} = 0.027
\]

  \bibliography{book.bib,packages.bib}

\end{document}
